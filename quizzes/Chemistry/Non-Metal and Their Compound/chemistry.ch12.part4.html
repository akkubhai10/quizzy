<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chemistry Quiz (151-200) | रसायन विज्ञान</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --text-main: #ffffff;
            --text-hindi: #e0e0e0;
            --correct: #00e676;
            --wrong: #ff5252;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background: linear-gradient(-45deg, #FF3CAC, #784BA0, #2B86C5, #1CB5E0);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--text-main);
            overflow-x: hidden;
            font-size: 16px;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Glassmorphism Container */
        .glass-container {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 25px;
            padding: 2rem;
            width: 95%;
            max-width: 800px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            position: relative;
            z-index: 10;
            min-height: 600px;
            display: flex;
            flex-direction: column;
        }

        /* Screens */
        .screen {
            display: none;
            flex-direction: column;
            height: 100%;
            flex-grow: 1;
        }
        
        .screen.active {
            display: flex;
        }

        /* Start Screen */
        .start-content {
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            flex-grow: 1;
            gap: 1.5rem;
        }

        h1 {
            font-size: 2.2rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            line-height: 1.2;
            margin-bottom: 0.5rem;
        }

        h2 {
            font-size: 1.2rem;
            color: var(--text-hindi);
            font-weight: 400;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
            align-items: center;
            width: 100%;
        }

        label { font-size: 0.9rem; letter-spacing: 0.5px; }

        input[type="number"] {
            background: rgba(0,0,0,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            padding: 12px;
            border-radius: 12px;
            color: white;
            font-size: 1.1rem;
            text-align: center;
            width: 200px;
            outline: none;
        }

        .toggle-container {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 1rem;
            cursor: pointer;
            background: rgba(255,255,255,0.05);
            padding: 10px 20px;
            border-radius: 50px;
        }

        /* Custom Checkbox */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 26px;
        }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(0,0,0,0.3);
            transition: .4s;
            border-radius: 34px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider { background-color: #00e676; }
        input:checked + .slider:before { transform: translateX(24px); }

        .btn-primary {
            background: white;
            color: #784BA0;
            border: none;
            padding: 15px 50px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(255,255,255,0.5);
        }

        /* Quiz Interface */
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .progress-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 25px 25px 0 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: #00e676;
            width: 0%;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px #00e676;
        }

        .timer-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 3px solid rgba(255,255,255,0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 1.1rem;
            transition: all 0.3s;
        }
        .timer-circle.danger {
            border-color: #ff5252;
            color: #ff5252;
            background: rgba(255, 82, 82, 0.1);
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); box-shadow: 0 0 15px #ff5252; }
            100% { transform: scale(1); }
        }

        .question-box {
            background: rgba(0,0,0,0.2);
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 25px;
            border-left: 5px solid white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .q-eng {
            font-size: 1.15rem;
            font-weight: 700;
            margin-bottom: 12px;
            color: white;
            line-height: 1.4;
        }
        .q-hin {
            font-size: 1rem;
            color: var(--text-hindi);
            font-weight: 400;
            line-height: 1.4;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        @media (min-width: 700px) {
            .options-grid { grid-template-columns: 1fr 1fr; }
        }

        .option-btn {
            background: rgba(255,255,255,0.08);
            border: 1px solid rgba(255,255,255,0.1);
            padding: 15px 20px;
            border-radius: 15px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        .option-btn:hover:not(:disabled) {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
            border-color: rgba(255,255,255,0.4);
        }

        .option-btn.correct {
            background: rgba(0, 230, 118, 0.25);
            border-color: var(--correct);
            box-shadow: 0 0 15px rgba(0, 230, 118, 0.3);
        }

        .option-btn.wrong {
            background: rgba(255, 82, 82, 0.25);
            border-color: var(--wrong);
            animation: shake 0.5s;
        }

        .opt-eng { font-size: 1rem; font-weight: 600; color: white; margin-bottom: 4px; }
        .opt-hin { font-size: 0.9rem; color: #ddd; }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        /* Feedback Overlay */
        .feedback-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 6rem;
            pointer-events: none;
            z-index: 20;
            opacity: 0;
            transition: opacity 0.2s;
            filter: drop-shadow(0 0 10px rgba(0,0,0,0.5));
        }
        .feedback-overlay.active { opacity: 1; animation: pop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }

        @keyframes pop {
            0% { transform: translate(-50%, -50%) scale(0); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }

        .early-submit-btn {
            margin-top: auto;
            align-self: center;
            background: transparent;
            border: 1px solid rgba(255,255,255,0.4);
            color: white;
            padding: 12px 30px;
            border-radius: 30px;
            font-size: 0.9rem;
            cursor: pointer;
            opacity: 0.8;
            transition: 0.3s;
        }
        .early-submit-btn:hover {
            opacity: 1;
            background: rgba(255,255,255,0.1);
            border-color: white;
        }

        /* Result Screen */
        .result-card {
            background: rgba(0,0,0,0.25);
            border-radius: 30px;
            padding: 40px;
            text-align: center;
            margin-bottom: 20px;
            width: 100%;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .score-big {
            font-size: 5rem;
            font-weight: 800;
            background: linear-gradient(to bottom, #fff, #b4c6e7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 10px 0;
        }

        .score-msg {
            font-size: 1.6rem;
            margin-bottom: 15px;
            color: #00e676;
            font-weight: 600;
        }
        
        /* Confetti Canvas */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }
    </style>
</head>
<body>

    <canvas id="confetti-canvas"></canvas>

    <div class="glass-container" id="app-container">
        
        <div id="start-screen" class="screen active">
            <div class="start-content">
                <div>
                    <h1>Chemistry Challenge</h1>
                    <h2>रसायन विज्ञान (Q. 151-200)</h2>
                </div>
                
                <div class="input-group">
                    <label>⏱️ Timer per Question (Seconds)</label>
                    <input type="number" id="timer-input" placeholder="e.g. 20 (0 for no timer)" min="0">
                </div>

                <div class="input-group">
                    <label class="toggle-container">
                        <div class="switch">
                            <input type="checkbox" id="shuffle-toggle">
                            <span class="slider"></span>
                        </div>
                        Randomize (प्रश्नों को मिलाएं)
                    </label>
                </div>

                <button class="btn-primary" onclick="startQuiz()">Start Quiz</button>
            </div>
        </div>

        <div id="quiz-screen" class="screen">
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>

            <div class="quiz-header">
                <div id="q-counter">Question 01/50</div>
                <div class="timer-circle" id="timer-display">--</div>
                <div id="score-counter">Score: 0</div>
            </div>

            <div class="question-box">
                <div class="q-eng" id="q-text-eng">Question English</div>
                <div class="q-hin" id="q-text-hin">Question Hindi</div>
            </div>

            <div class="options-grid" id="options-container">
                </div>

            <div class="feedback-overlay" id="feedback-emoji"></div>

            <button class="early-submit-btn" onclick="endGame()">Finish & Show Results</button>
        </div>

        <div id="result-screen" class="screen">
            <div class="start-content">
                <div class="result-card">
                    <h2>Final Score</h2>
                    <div class="score-big" id="final-score">0</div>
                    <div class="score-msg" id="final-msg">Well Done!</div>
                    <p id="stats-text" style="color:#ddd; margin-top:10px; font-size: 1.1rem;"></p>
                </div>
                <button class="btn-primary" onclick="location.reload()">Restart Quiz</button>
            </div>
        </div>

    </div>

    <script>
        /* ================= DATA (Questions 151-200) ================= */
        const rawQuestions = [
            {
                qE: "Ammonia is dried by:",
                qH: "अमोनिया को किसके द्वारा शुष्क (Dry) किया जाता है ?",
                optsE: ["Conc H2SO4", "Quick lime (CaO)", "Anhydrous CaCl2", "P2O5"],
                optsH: ["सांद्र H2SO4", "कली चूना (CaO)", "अजलीय CaCl2", "P2O5"],
                ans: 1
            },
            {
                qE: "Which catalyst is used in Haber's Process for Ammonia production?",
                qH: "हैबर विधि से अमोनिया उत्पादन हेतु निम्नलिखित में कौन-सा उत्प्रेरक प्रयोग किया जाता है ?",
                optsE: ["Finely divided Iron with Molybdenum", "Ferric oxide with Soda/Potassium", "Finely divided Nickel", "All of these"],
                optsH: ["मॉलिब्डेनम की सूक्ष्म मात्रा युक्त लोहे का बारीक चूर्ण", "सोडा, सिलिका तथा पोटैशियम युक्त फेरिक ऑक्साइड", "निकेल का बारीक चूर्ण", "इनमें से सभी"],
                ans: 0
            },
            {
                qE: "Which refrigerant is generally used in domestic refrigerators?",
                qH: "घरेलू प्रशीतन में सामान्यतः कौन-सा प्रशीतक प्रयोग में लाते हैं ?",
                optsE: ["Neon", "Ammonia", "Nitrogen", "Freon"],
                optsH: ["नियॉन", "अमोनिया", "नाइट्रोजन", "फ्रिऑन"],
                ans: 3
            },
            {
                qE: "Due to which property is Ammonia used in refrigerators?",
                qH: "किस गुण के कारण अमोनिया का उपयोग रेफ्रिजरेटर में किया जाता है ?",
                optsE: ["Cheap gas available easily", "Cannot be liquefied easily", "Liquefies easily and produces cold on evaporation", "It dissolves oily substances"],
                optsH: ["अमोनिया आसानी से उपलब्ध सस्ती गैस है", "अमोनिया को सुगमतापूर्वक द्रवीभूत नहीं किया जा सकता है", "अमोनिया सुगमतापूर्वक द्रवीभूत होता है तथा द्रवित अमोनिया के वाष्पन के फलस्वरूप ठंडक उत्पन्न होती है", "अमोनिया तैलीय पदार्थ को घुला देता है।"],
                ans: 2
            },
            {
                qE: "Which is a property of Ammonia?",
                qH: "अमोनिया का एक गुण कौन-सा है ?",
                optsE: ["It is colorless and pungent smelling", "Brings tears to eyes when smelled", "Lighter than air", "All of these"],
                optsH: ["यह रंगहीन तथा तीखी गंध वाली गैस है", "इसे सूंघने पर आँखों में आँसू आ जाते हैं", "यह हवा से हल्की होती है", "इनमें से सभी"],
                ans: 3
            },
            {
                qE: "Tear Gas is:",
                qH: "अश्रु-गैस (Tear Gas) है-",
                optsE: ["Chlorine", "Ammonia", "Hydrogen Carbide", "Hydrogen Sulphide"],
                optsH: ["क्लोरीन", "अमोनिया", "हाइड्रोजन कार्बाइड", "हाइड्रोजन सल्फाइड"],
                ans: 1
            },
            {
                qE: "Which one of the following is highly soluble in water?",
                qH: "निम्नलिखित में कौन एक जल में अत्यंत विलेय है-",
                optsE: ["Carbon", "Nitrogen", "Ammonia", "Iodine"],
                optsH: ["कार्बन", "नाइट्रोजन", "अमोनिया", "आयोडीन"],
                ans: 2
            },
            {
                qE: "Which one is INCORRECT regarding Haber's Process?",
                qH: "हैबर विधि के संबंध में निम्न में कौन-सा एक सही नहीं है ?",
                optsE: ["N2 and H2 combine to form Ammonia", "Reaction is reversible", "Volume increases after reaction", "Reaction is Exothermic"],
                optsH: ["नाइट्रोजन तथा हाइड्रोजन संयोग कर अमोनिया का निर्माण करते हैं", "अभिक्रिया उत्क्रमणीय होता है", "अभिक्रिया के फलस्वरूप आयतन में वृद्धि होता है", "अभिक्रिया उष्माक्षेपी होती है"],
                ans: 2
            },
            {
                qE: "Optimum temperature and pressure for Ammonia production by Haber's process:",
                qH: "हैबर विधि द्वारा अमोनिया उत्पादन में अनुकूलतम ताप एवं दाब का मान होता है-",
                optsE: ["773 K and 200 atm", "873 K and 150 atm", "573 K and 400 atm", "673 K and 100 atm"],
                optsH: ["773 K तथा 200 atm", "873 K तथा 150 atm", "573 K तथा 400 atm", "673 K तथा 100 atm"],
                ans: 3
            },
            {
                qE: "Consider the following statements: 1. When Ammonia reacts with excess Chlorine, explosive NCl3 is formed. 2. Nitrogen trichloride is an explosive compound.",
                qH: "निम्नलिखित कथनों पर विचार कीजिए- 1. क्लोरीन की अधिक मात्रा से जब अमोनिया अभिक्रिया करता है तब पीले रंग का नाइट्रोजन ट्राइक्लोराइड प्राप्त होता है। 2. नाइट्रोजन ट्राइक्लोराइड एक विस्फोटक यौगिक है।",
                optsE: ["Only 1", "Only 2", "Both 1 and 2", "Neither 1 nor 2"],
                optsH: ["केवल 1", "केवल 2", "1 तथा 2 दोनों", "न तो 1 न ही 2"],
                ans: 2
            },
            {
                qE: "The fumes coming out of Ammonium Chloride powder used for cleaning hot brass vessels are of:",
                qH: "पीतल के बर्तन की कलई करते समय गरम बर्तन के सफाई के लिये प्रयोग किये जाने वाले अमोनियम क्लोराइड चूर्ण से निकलने वाला धुआँ है-",
                optsE: ["Ammonia", "Carbon Monoxide", "Hydrochloric Acid", "Ammonia and Hydrochloric Acid"],
                optsH: ["अमोनिया का", "कार्बन मोनोक्साइड का", "हाइड्रोक्लोरिक एसिड का", "अमोनिया और हाइड्रोक्लोरिक एसिड का"],
                ans: 3
            },
            {
                qE: "Which catalyst is used in the production of Ammonia by Haber's process?",
                qH: "हैबर विधि द्वारा अमोनिया के उत्पादन में किस उत्प्रेरक का उपयोग किया जाता है ?",
                optsE: ["Iron", "Platinum", "Alumina", "Nickel"],
                optsH: ["लोहा", "प्लेटिनम", "एलुमिना", "निकेल"],
                ans: 0
            },
            {
                qE: "An unknown gas dissolves quickly in water. Its aqueous solution turns red litmus blue. It produces white smoke with HCl. The gas is:",
                qH: "एक अज्ञात गैस जल में शीघ्रता से घुल जाती है। गैस युक्त जलीय घोल में लाल लिटमस नीला हो जाता है। यह गैस हाइड्रोजन क्लोराइड के साथ सफेद धूम्र भी देती है। यह अज्ञात गैस है-",
                optsE: ["SO2", "NH3", "NO", "CO"],
                optsH: ["SO2", "NH3", "NO", "CO"],
                ans: 1
            },
            {
                qE: "Gases used in Haber's process for Ammonia must be pure, otherwise:",
                qH: "हैबर विधि द्वारा अमोनिया के निर्माण में प्रयुक्त गैसे शुद्ध होनी चाहिए अन्यथा-",
                optsE: ["Production decreases due to impurities", "Impure gases will not react", "Resulting ammonia will be impure", "Impurities act as catalyst poison"],
                optsH: ["अशुद्धियों की उपस्थिति उत्पादन की मात्रा कम कर देगी", "अशुद्ध गैसे अनुकूलतम परिस्थिति में भी अभिक्रिया नहीं करेगी।", "प्राप्त अमोनिया अशुद्ध होगी, उसे शुद्ध करना कठिन होगा", "अशुद्धियाँ उत्प्रेरक विष के रूप में कार्य करेगा"],
                ans: 3
            },
            {
                qE: "Ammonia gas gives white fumes with which substance?",
                qH: "अमोनिया गैस निम्नलिखित में किस पदार्थ के साथ सफेद धुआँ देती है ?",
                optsE: ["HNO3", "H2O", "HCl", "H2SO4"],
                optsH: ["HNO3", "H2O", "HCl", "H2SO4"],
                ans: 2
            },
            {
                qE: "Consider statements: 1. Aqueous solution of Ammonia is acidic. 2. Aqueous solution of Ammonium Chloride is basic. Which is correct?",
                qH: "निम्नलिखित कथनों पर विचार कीजिए- 1. अमोनिया का जलीय विलयन अम्लीय होता है। 2. अमोनियम क्लोराइड का जलीय विलयन क्षारीय होता है। सही है?",
                optsE: ["Only 1", "Only 2", "Both 1 and 2", "Neither 1 nor 2"],
                optsH: ["केवल 1", "केवल 2", "1 तथा 2 दोनों", "न तो 1 न ही 2"],
                ans: 3
            },
            {
                qE: "Cause of Lightening bolts in the atmosphere is formation of:",
                qH: "वायुमण्डल में Lightening bolts बनने का कारण क्या है ?",
                optsE: ["NH4OH", "NO", "NH3", "NH2OH"],
                optsH: ["NH4OH", "NO", "NH3", "NH2OH"],
                ans: 1
            },
            {
                qE: "Which statement is false for Laughing gas N2O?",
                qH: "हँसाने वाली गैस N2O के लिए कौन-सा कथन असत्य है ?",
                optsE: ["Called Nitrous Oxide", "Causes hysterical laughter if inhaled in large quantity", "Not a linear molecule", "Least reactive oxide of Nitrogen"],
                optsH: ["यह नाइट्रस ऑक्साइड कहलाती है।", "इसे अधिक मात्रा में सूंघने पर मनुष्य हँसते-हँसते मर जाता है।", "यह रेखीय अणु नहीं है", "नाइट्रोजन के ऑक्साइड में यह सबसे कम क्रियाशील है"],
                ans: 2
            },
            {
                qE: "Modern method for industrial production of Nitric Acid (HNO3) is:",
                qH: "नाइट्रिक अम्ल (HNO3) के औद्योगिक निर्माण की आधुनिक विधि है-",
                optsE: ["Haber process", "Ostwald process", "Birkeland-Eyde process", "Cyanide process"],
                optsH: ["हैबर विधि", "ओस्टवाल विधि", "बर्कलैंड आइड विधि", "सायनाइड विधि"],
                ans: 1
            },
            {
                qE: "Production of Nitric Acid by Birkeland-Eyde process is now obsolete because:",
                qH: "बर्कलैंड-आइड विधि द्वारा नाइट्रिक अम्ल का उत्पादन अब बिल्कुल खत्म हो गया है, क्योंकि-",
                optsE: ["Very low yield", "Consumes very high electric power", "Both a and b", "Neither a nor b"],
                optsH: ["इस विधि में नाइट्रिक अम्ल बहुत कम मात्रा में प्राप्त होता है।", "इसमें बहुत अधिक विद्युत-शक्ति खर्च होती है", "a तथा b दोनों", "न तो a न ही b"],
                ans: 2
            },
            {
                qE: "Chemical formula of Norwegian Saltpeter is:",
                qH: "नार्वेजियन साल्टपीटर का रासायनिक सूत्र है-",
                optsE: ["KNO3", "NaNO3", "Ca(NO3)2", "Mg(NO3)2"],
                optsH: ["KNO3", "NaNO3", "Ca(NO3)2", "Mg(NO3)2"],
                ans: 2
            },
            {
                qE: "Starting materials used in industrial production of Nitric acid by Birkeland-Eyde process:",
                qH: "बर्कलैंड तथा आइड की विधि से नाइट्रिक अम्ल के औद्योगिक निर्माण में प्रयुक्त प्रारम्भिक पदार्थ हैं-",
                optsE: ["Air", "Ammonia", "Chile Saltpeter", "NO2"],
                optsH: ["वायु", "अमोनिया", "चिली साल्टपीटर", "NO2"],
                ans: 0
            },
            {
                qE: "The oxide obtained by oxidation of Ammonia in presence of Pt catalyst used in Nitric acid manufacture is:",
                qH: "वह ऑक्साइड जो अमोनिया के प्लैटिनम उत्प्रेरक की उपस्थिति में ऑक्सीकरण से प्राप्त होता है तथा नाइट्रिक अम्ल के निर्माण में प्रयुक्त होता है-",
                optsE: ["NO", "NO2", "N2O3", "N2O5"],
                optsH: ["NO", "NO2", "N2O3", "N2O5"],
                ans: 0
            },
            {
                qE: "Which catalyst is used in Ostwald process for Nitric acid production?",
                qH: "ओस्टवाल विधि से नाइट्रिक अम्ल के उत्पादन में कौन-सा उत्प्रेरक इस्तेमाल किया जाता है ?",
                optsE: ["Iron", "Platinum", "Nickel", "Cadmium"],
                optsH: ["लोहा", "प्लेटिनम", "निकेल", "कैडमियम"],
                ans: 1
            },
            {
                qE: "Which gas is dissolved in Fuming Nitric Acid?",
                qH: "सधूम नाइट्रिक अम्ल (Fuming Nitric Acid) में कौन-सा गैस घुली रहती है ?",
                optsE: ["Ammonia", "Nitrogen Peroxide (NO2)", "Hydrogen", "Oxygen"],
                optsH: ["अमोनिया", "नाइट्रोजन पेरॉक्साइड", "हाइड्रोजन", "ऑक्सीजन"],
                ans: 1
            },
            {
                qE: "To prepare Nitrogen gas in laboratory:",
                qH: "प्रयोगशाला में नाइट्रोजन गैस तैयार करने के लिए-",
                optsE: ["Boil Mg3N2 with water", "Heat NH4NO2", "Heat saturated solution of NH4Cl and NaNO2", "Heat NH4Cl and CaO"],
                optsH: ["मैग्नीशियम नाइट्राइट को जल के साथ उबालते हैं", "NH4NO2 को गर्म करते हैं", "NH4Cl तथा NaNO2 के संतृप्त विलयन को गर्म करते हैं", "NH4Cl तथा CaO का गर्म करते हैं"],
                ans: 2
            },
            {
                qE: "Which one is INCORRECT regarding Nitric Acid?",
                qH: "नाइट्रिक अम्ल के संबंध में निम्न में कौन-सा एक सही नहीं है ?",
                optsE: ["Pure nitric acid is colorless fuming liquid", "Hygroscopic and produces fumes in air", "It is a reducing agent", "Soluble in water"],
                optsH: ["शुद्ध नाइट्रिक अम्ल रंगहीन तथा तीव्र गंध वाला सधूम (Fuming) द्रव है", "यह आर्द्रताग्राही होता है तथा हवा में धुआँ उत्पन्न करता है", "यह एक अवकारक है", "यह जल में विलेय है"],
                ans: 2
            },
            {
                qE: "Consider statements: 1. Mixture of 1 vol conc HCl and 3 vol conc HNO3 is Aqua Regia. 2. Aqua Regia dissolves gold/platinum. Which is correct?",
                qH: "निम्नलिखित कथनों पर विचार कीजिए- 1. एक आयतन सांद्र HCl तथा तीन आयतन सांद्र HNO3 के मिश्रण को अम्लराज कहा जाता है। 2. अम्ल राज में सोना, प्लैटिनम जैसे धातु को घुलाने की क्षमता होती है। (Note: Aqua Regia is 3 HCl : 1 HNO3. Statement 1 says 1 HCl : 3 HNO3, which is wrong order.)",
                optsE: ["Only 1", "Only 2", "Both 1 and 2", "Neither 1 nor 2"],
                optsH: ["केवल 1", "केवल 2", "1 तथा 2 दोनों", "न तो 1 न ही 2"],
                ans: 1
            },
            {
                qE: "Which property is common to Hydrogen, Nitrogen and Carbon Dioxide?",
                qH: "निम्नलिखित में कौन-सा अभिलक्षण हाइड्रोजन, नाइट्रोजन तथा कार्बन डाइऑक्साइड में सर्वनिष्ठ है ?",
                optsE: ["All are diatomic", "All are gases at room temp", "All are colored", "Reactivity is same"],
                optsH: ["ये सभी द्वि परमाणुक है", "कमरे के तापमान पर ये सभी गैस है", "ये सभी रंगीन है", "ये सभी की अभिक्रियाशीलता एक समान है"],
                ans: 1
            },
            {
                qE: "Molecular formula of Phosphorus is:",
                qH: "फॉस्फोरस का अणु सूत्र है-",
                optsE: ["P1", "P2", "P3", "P4"],
                optsH: ["P1", "P2", "P3", "P4"],
                ans: 3
            },
            {
                qE: "Which of the following is a Tetra-atomic molecule?",
                qH: "निम्नलिखित में कौन चतुष्परमाणुक अणु (Tetraatomic Molecules) है-",
                optsE: ["Phosphorus", "Arsenic", "Antimony", "All of these"],
                optsH: ["फॉस्फोरस", "आर्सेनिक", "एन्टीमनी", "इनमें से सभी"],
                ans: 3
            },
            {
                qE: "Industrial production of Phosphorus is done by heating which mixture in electric furnace?",
                qH: "फॉस्फोरस का औद्योगिक निर्माण निम्नलिखित में से किस मिश्रण की विद्युत भट्ठी में गर्म करके किया जाता है ?",
                optsE: ["Bone ash, Sodium chloride and Coke", "Bone ash, Silica and Coke", "Bone ash, Silica and Lime", "Bone ash, Coke and Lime"],
                optsH: ["हड्डी की राख, सोडियम क्लोराइड तथा कोक", "हड्डी की राख, सिलिका तथा कोक", "हड्डी की राख, सिलिका तथा चूना", "हड्डी की राख, कोक तथा चूना पत्थर"],
                ans: 1
            },
            {
                qE: "An element forms a solid oxide which forms an acidic solution in water. This element is:",
                qH: "एक तत्व एक ठोस ऑक्साइड बनाता है जो जल में घुल होकर अम्लीय विलयन बनाता है। यह निम्नलिखित में कौन हो सकता है ?",
                optsE: ["Argon", "Potassium", "Phosphorus", "Sulphur"],
                optsH: ["ऑर्गन", "पोटैशियम", "फॉस्फोरस", "सल्फर"],
                ans: 2
            },
            {
                qE: "The most stable allotrope of Phosphorus is:",
                qH: "फॉस्फोरस का सबसे स्थायी अपरूप है-",
                optsE: ["White or Yellow Phosphorus", "Red Phosphorus", "Black Phosphorus", "Violet Phosphorus"],
                optsH: ["श्वेत या पीला फॉस्फोरस", "लाल फॉस्फोरस", "काला फॉस्फोरस", "बैगनी फॉस्फोरस"],
                ans: 2
            },
            {
                qE: "Which allotrope of Phosphorus is most reactive?",
                qH: "फॉस्फोरस का कौन-सा अपरूप सबसे अधिक क्रियाशील है?",
                optsE: ["Violet Phosphorus", "Black Phosphorus", "Red Phosphorus", "Yellow or White Phosphorus"],
                optsH: ["बैगनी फॉस्फोरस", "काला फॉस्फोरस", "लाल फॉस्फोरस", "पीला या श्वेत फॉस्फोरस"],
                ans: 3
            },
            {
                qE: "Which statement is INCORRECT regarding White and Red Phosphorus?",
                qH: "सफेद और लाल फॉस्फोरस के संबंध में कौन-सा कथन सही नहीं है ?",
                optsE: ["Both are soluble in CS2", "Both can be oxidized by heating in air", "Both have same kind of atoms", "Can be converted into each other"],
                optsH: ["दोनों कार्बन डाइ सल्फाइड में विलेय है", "दोनों को वायु में गर्म करके ऑक्सीकृत किया जा सकता है", "दोनों समान प्रकार के परमाणु है", "दोनों को एक-दूसरे में परिवर्तित किया जा सकता है"],
                ans: 0
            },
            {
                qE: "Which statement is INCORRECT regarding White Phosphorus?",
                qH: "श्वेत फॉस्फोरस के गुणों के संबंध में निम्नलिखित में कौन-सा एक सही नहीं है ?",
                optsE: ["It is poisonous", "Soft waxy translucent solid", "Shows phosphorescence", "Insoluble in CS2"],
                optsH: ["यह विषैला होता है", "यह मोम जैसा मुलायम हल्के पीले रंग का पारभासी ठोस है", "यह स्फुरदीप्ति का गुण प्रदर्शित करता है", "यह CS2 में नहीं घुलता है"],
                ans: 3
            },
            {
                qE: "Which allotrope of Phosphorus is a conductor of electricity?",
                qH: "फॉस्फोरस का कौन-सा अपरूप विद्युत का चालक है ?",
                optsE: ["Red Phosphorus", "Black Phosphorus", "Sinduri Phosphorus", "Violet Phosphorus"],
                optsH: ["लाल फॉस्फोरस", "काला फॉस्फोरस", "सिंदुरी फॉस्फोरस", "बैगनी"],
                ans: 1
            },
            {
                qE: "Yellow Phosphorus is kept preserved in:",
                qH: "पीले फॉस्फोरस को किसमें सुरक्षित रखा जाता है ?",
                optsE: ["Kerosene Oil", "Water", "Petrol", "Air"],
                optsH: ["कैरोसीन तेल", "जल", "पेट्रोल", "हवा"],
                ans: 1
            },
            {
                qE: "Used in the manufacture of matches:",
                qH: "दियासलाई के निर्माण में प्रयुक्त होता है-",
                optsE: ["White Phosphorus", "Red Phosphorus", "Silicon", "Selenium"],
                optsH: ["सफेद फॉस्फोरस", "लाल फॉस्फोरस", "सिलिकॉन", "सेलेनियम"],
                ans: 1
            },
            {
                qE: "Which allotrope of Phosphorus shows Phosphorescence?",
                qH: "फॉस्फोरस के अपरूपों में कौन स्फुरदीप्ति का गुण प्रदर्शित करता है ?",
                optsE: ["White Phosphorus", "Black Phosphorus", "Sinduri Phosphorus", "Red Phosphorus"],
                optsH: ["श्वेत फॉस्फोरस", "काला फॉस्फोरस", "सिंदुरी फॉस्फोरस", "लाल फॉस्फोरस"],
                ans: 0
            },
            {
                qE: "White Phosphorus reacts with hot and conc Sodium Hydroxide to form:",
                qH: "श्वेत फॉस्फोरस सोडियम हाइड्रोक्साइड के गर्म तथा सांद्र विलयन से अभिक्रिया करके बनाता है-",
                optsE: ["Phosgene", "Phosphine", "Phosphorus Penta Oxide", "Phosphorus Tetroxide"],
                optsH: ["फॉस्जीन", "फॉस्फीन", "फॉस्फोरस पेंटा ऑक्साइड", "फॉस्फोरस टेट्रॉक्साइड"],
                ans: 1
            },
            {
                qE: "Phosgene is:",
                qH: "फॉस्जीन है-",
                optsE: ["PH3", "POCl3", "COCl2", "CS2"],
                optsH: ["PH3", "POCl3", "COCl2", "CS2"],
                ans: 2
            },
            {
                qE: "Phosphine is:",
                qH: "फॉस्फीन है-",
                optsE: ["POCl3", "CS2", "COCl2", "PH3"],
                optsH: ["POCl3", "CS2", "COCl2", "PH3"],
                ans: 3
            },
            {
                qE: "How is Phosphine prepared in the laboratory?",
                qH: "फॉस्फीन को प्रयोगशाला में किस प्रकार तैयार किया जाता है-",
                optsE: ["Heating Phosphorus in Hydrogen", "Heating White P with Caustic Soda solution", "Decomposing P2H4 at 110C", "Heating Red P with Caustic Soda"],
                optsH: ["फॉस्फोरस को हाइड्रोजन के प्रवाह में गर्म करके", "श्वेत फॉस्फोरस को कॉस्टिक सोडा के जलीय विलयन के साथ गर्म करके", "P2H4 को 110°C पर अपघटित करके", "लाल फॉस्फोरस को कॉस्टिक सोडा के जलीय विलयन के साथ गर्म करके"],
                ans: 1
            },
            {
                qE: "Which of the following smells like rotten fish?",
                qH: "निम्नलिखित में किसका गंध सड़ी हुई मछली जैसी होती है ?",
                optsE: ["Phosphine", "Phosphorus Dioxide", "Phosphorus Pentoxide", "Phosphorus Pentachloride"],
                optsH: ["फॉस्फीन", "फॉस्फोरस डाइऑक्साइड", "फॉस्फोरस पेंटाऑक्साइड", "फॉस्फोरस पेंटाक्लोराइड"],
                ans: 0
            },
            {
                qE: "Bone ash is used as fertilizer because it is rich in:",
                qH: "पक्षियों की हड्डियों का पाउडर उर्वरक के रूप में काम में लाया जाता है, क्योंकि यह भरपूर होता है-",
                optsE: ["Nitrogen", "Phosphorus", "Potassium", "Sodium"],
                optsH: ["नाइट्रोजन", "फॉस्फोरस", "पोटैशियम", "सोडियम"],
                ans: 1
            },
            {
                qE: "Which is used to make smoke screens in war?",
                qH: "युद्ध में धुएँ का पर्दा बनाने के लिए किसका प्रयोग किया जाता है ?",
                optsE: ["PH3", "PH4", "PCl3", "PCl5"],
                optsH: ["PH3", "PH4", "PCl3", "PCl5"],
                ans: 0
            },
            {
                qE: "Structure of Phosphine molecule is similar to:",
                qH: "फॉस्फीन की अणुओं को संरचना निम्नलिखित में किसके समान है ?",
                optsE: ["Water", "Ammonia", "Graphite", "Diamond"],
                optsH: ["जल", "अमोनिया", "ग्रेफाइट", "हीरा"],
                ans: 1
            },
            {
                qE: "Ordinary Phosphorus is:",
                qH: "फॉस्फोरस का साधारण रूप है-",
                optsE: ["White or Yellow Phosphorus", "Red Phosphorus", "Sinduri Phosphorus", "Black Phosphorus"],
                optsH: ["श्वेत या पीला फॉस्फोरस", "लाल फॉस्फोरस", "सिंदुरी फॉस्फोरस", "काला फॉस्फोरस"],
                ans: 0
            }
        ];

        /* ================= LOGIC ================= */
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let timer = null;
        let timeLeft = 0;
        let settings = { timePerQ: 0, shuffle: false };
        let audioContext = null;

        // Sound Synthesis (Web Audio API)
        function initAudio() {
            if (!audioContext) audioContext = new (window.AudioContext || window.webkitAudioContext)();
        }

        function playSound(type) {
            if (!audioContext) initAudio();
            const osc = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            osc.connect(gainNode);
            gainNode.connect(audioContext.destination);

            if (type === 'correct') {
                osc.type = 'sine';
                osc.frequency.setValueAtTime(600, audioContext.currentTime);
                osc.frequency.exponentialRampToValueAtTime(1200, audioContext.currentTime + 0.1);
                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                osc.start();
                osc.stop(audioContext.currentTime + 0.3);
            } else if (type === 'wrong') {
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(150, audioContext.currentTime);
                osc.frequency.linearRampToValueAtTime(100, audioContext.currentTime + 0.3);
                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                osc.start();
                osc.stop(audioContext.currentTime + 0.3);
            }
        }

        // Shuffle Array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function startQuiz() {
            initAudio();
            const timeInput = document.getElementById('timer-input').value;
            const shuffleInput = document.getElementById('shuffle-toggle').checked;
            
            settings.timePerQ = timeInput ? parseInt(timeInput) : 0;
            settings.shuffle = shuffleInput;

            // Prepare Data
            currentQuestions = [...rawQuestions];
            if (settings.shuffle) shuffleArray(currentQuestions);

            score = 0;
            currentQuestionIndex = 0;

            // UI Switch
            document.getElementById('start-screen').classList.remove('active');
            document.getElementById('result-screen').classList.remove('active');
            document.getElementById('quiz-screen').classList.add('active');

            loadQuestion();
        }

        function loadQuestion() {
            // Check limits
            if (currentQuestionIndex >= currentQuestions.length) {
                endGame();
                return;
            }

            const qData = currentQuestions[currentQuestionIndex];
            
            // Update Headers
            document.getElementById('q-counter').innerText = `Question ${String(currentQuestionIndex + 1).padStart(2, '0')}/${currentQuestions.length}`;
            document.getElementById('score-counter').innerText = `Score: ${score}`;
            document.getElementById('progress-bar').style.width = `${((currentQuestionIndex) / currentQuestions.length) * 100}%`;

            // Render Text
            document.getElementById('q-text-eng').innerText = qData.qE;
            document.getElementById('q-text-hin').innerText = qData.qH;

            // Render Options
            const optsContainer = document.getElementById('options-container');
            optsContainer.innerHTML = '';

            qData.optsE.forEach((optE, idx) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.innerHTML = `
                    <span class="opt-eng">${optE}</span>
                    <span class="opt-hin">${qData.optsH[idx]}</span>
                `;
                btn.onclick = () => handleAnswer(idx, btn);
                optsContainer.appendChild(btn);
            });

            // Timer Logic
            clearInterval(timer);
            const timerDisplay = document.getElementById('timer-display');
            timerDisplay.classList.remove('danger');
            
            if (settings.timePerQ > 0) {
                timerDisplay.style.display = 'flex';
                timeLeft = settings.timePerQ;
                timerDisplay.innerText = timeLeft;
                
                timer = setInterval(() => {
                    timeLeft--;
                    timerDisplay.innerText = timeLeft;
                    if (timeLeft <= 5) timerDisplay.classList.add('danger');
                    if (timeLeft <= 0) {
                        clearInterval(timer);
                        handleAnswer(-1, null); // Time out treated as wrong/skip
                    }
                }, 1000);
            } else {
                timerDisplay.style.display = 'none';
            }
        }

        function handleAnswer(selectedIndex, btnElement) {
            clearInterval(timer);
            const qData = currentQuestions[currentQuestionIndex];
            const allBtns = document.querySelectorAll('.option-btn');
            
            // Disable all
            allBtns.forEach(b => b.disabled = true);

            const isCorrect = selectedIndex === qData.ans;
            const correctBtn = allBtns[qData.ans];

            if (isCorrect) {
                score++;
                if(btnElement) btnElement.classList.add('correct');
                playSound('correct');
                triggerConfetti();
                showFeedback('🤩'); // Star eyes for correct
            } else {
                if(btnElement) btnElement.classList.add('wrong');
                if(correctBtn) correctBtn.classList.add('correct'); // Show correct answer
                playSound('wrong');
                showFeedback('😢'); // Sad face for wrong
            }

            // Auto Next
            setTimeout(() => {
                currentQuestionIndex++;
                loadQuestion();
            }, 1500);
        }

        function showFeedback(emoji) {
            const el = document.getElementById('feedback-emoji');
            el.innerText = emoji;
            el.classList.add('active');
            setTimeout(() => el.classList.remove('active'), 1000);
        }

        function endGame() {
            clearInterval(timer);
            document.getElementById('quiz-screen').classList.remove('active');
            document.getElementById('result-screen').classList.add('active');

            // Calculate percentage based on attempted questions (or 1 if 0 to avoid Infinity)
            let totalConsidered = currentQuestionIndex === 0 ? 1 : currentQuestionIndex;
            // If finished naturally, it uses total length
            if(currentQuestionIndex >= currentQuestions.length) totalConsidered = currentQuestions.length;

            const percentage = (score / totalConsidered) * 100;
            const scoreEl = document.getElementById('final-score');
            const msgEl = document.getElementById('final-msg');
            const statsEl = document.getElementById('stats-text');

            scoreEl.innerText = `${Math.round(percentage)}%`;
            statsEl.innerText = `You answered ${score} out of ${totalConsidered} questions correctly.`;

            if (percentage >= 80) msgEl.innerText = "🏆 Outstanding Performance!";
            else if (percentage >= 50) msgEl.innerText = "👏 Well Done! Keep it up.";
            else msgEl.innerText = "📚 Practice makes perfect! Try again.";
            
            if(percentage >= 80) triggerConfetti();
        }

        /* ================= CONFETTI (Pure JS Canvas) ================= */
        function triggerConfetti() {
            const canvas = document.getElementById('confetti-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const particles = [];
            const colors = ['#00e676', '#ff5252', '#2196f3', '#ffeb3b', '#e040fb'];

            for (let i = 0; i < 150; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    size: Math.random() * 8 + 3,
                    speed: Math.random() * 5 + 2,
                    angle: Math.random() * 360,
                    spin: Math.random() * 10 - 5
                });
            }

            let animationId;
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                let active = false;
                
                particles.forEach(p => {
                    p.y += p.speed;
                    p.angle += p.spin;
                    if (p.y < canvas.height) active = true;

                    ctx.save();
                    ctx.translate(p.x, p.y);
                    ctx.rotate(p.angle * Math.PI / 180);
                    ctx.fillStyle = p.color;
                    ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size);
                    ctx.restore();
                });

                if (active) animationId = requestAnimationFrame(animate);
                else ctx.clearRect(0, 0, canvas.width, canvas.height);
            }
            
            animate();
            setTimeout(() => cancelAnimationFrame(animationId), 4000);
        }
    </script>
</body>
</html>