<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 37: Special Provisions Quiz</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --glass: rgba(255, 255, 255, 0.1);
            --border: rgba(255, 255, 255, 0.2);
            --correct: #4CAF50;
            --wrong: #f44336;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }

        body {
            min-height: 100vh;
            background: linear-gradient(45deg, #6a11cb, #2575fc, #e91e63);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            padding: 15px;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            width: 100%;
            max-width: 500px;
            background: var(--glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--border);
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            position: relative;
            overflow: hidden;
        }

        #progress-bar {
            position: absolute;
            top: 0; left: 0;
            height: 6px;
            background: linear-gradient(to right, #00f2fe, #4facfe);
            width: 0%;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px #4facfe;
        }

        .header-info { display: flex; justify-content: space-between; font-size: 0.9rem; margin-bottom: 20px; }
        
        h1 { font-size: 1.5rem; text-align: center; margin-bottom: 20px; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); }

        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; margin-bottom: 5px; font-size: 0.8rem; }
        input[type="number"], .toggle-container {
            width: 100%; padding: 10px; border-radius: 10px; border: none; background: rgba(255,255,255,0.2); color: white;
        }

        .btn {
            width: 100%; padding: 15px; border: none; border-radius: 12px;
            background: white; color: #333; font-weight: 600; cursor: pointer;
            transition: transform 0.2s, background 0.2s; margin-top: 10px;
        }
        .btn:hover { transform: scale(1.02); }

        .option-btn {
            background: rgba(255,255,255,0.15);
            color: white; text-align: left; margin-bottom: 12px;
            display: flex; flex-direction: column;
        }
        .option-btn .hi { font-size: 0.85rem; color: #ddd; margin-top: 2px; }

        .question-text { font-weight: 600; margin-bottom: 20px; line-height: 1.4; }
        .question-text .hi { display: block; font-size: 1rem; color: #eee; font-weight: 400; margin-top: 5px;}

        #timer.pulse { color: #ff4d4d; animation: pulse 1s infinite; font-weight: bold; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }

        #emoji-overlay {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            font-size: 80px; display: none; z-index: 1000;
        }
        .shake { animation: shake 0.5s; }
        @keyframes shake { 0%, 100% { transform: translate(-50%, -50%); } 25% { transform: translate(-55%, -50%); } 75% { transform: translate(-45%, -50%); } }

        #confetti-canvas { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 9999; }

        .hidden { display: none; }
        
        /* Mobile scroll optimization */
        .options-container { max-height: 60vh; overflow-y: auto; padding-right: 5px; }
        .options-container::-webkit-scrollbar { width: 5px; }
        .options-container::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.3); border-radius: 10px; }
    </style>
</head>
<body>

    <canvas id="confetti-canvas"></canvas>
    <div id="emoji-overlay">üò¢</div>

    <div class="container">
        <div id="progress-bar"></div>

        <div id="start-screen">
            <h1>Chapter 37 Quiz</h1>
            <p style="text-align:center; margin-bottom:20px;">Special Provisions for States<br><small>‡§ï‡•Å‡§õ ‡§∞‡§æ‡§ú‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§Ø‡•á ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§™‡•ç‡§∞‡§æ‡§µ‡§ß‡§æ‡§®</small></p>
            <div class="input-group">
                <label>Timer per Question (Seconds, 0 = No Timer):</label>
                <input type="number" id="manual-timer" value="30" min="0">
            </div>
            <div class="input-group">
                <label><input type="checkbox" id="shuffle-toggle"> Shuffle Questions</label>
            </div>
            <button class="btn" onclick="startQuiz()">Start Quiz</button>
        </div>

        <div id="quiz-screen" class="hidden">
            <div class="header-info">
                <span id="q-counter">Question 1/12</span>
                <span id="timer"></span>
                <span id="score-display">Score: 0</span>
            </div>
            <div id="question-box">
                <p class="question-text" id="q-text"></p>
                <div class="options-container" id="options-box"></div>
            </div>
            <button class="btn" style="background:rgba(255,255,255,0.1); color:white; border:1px solid white; margin-top:20px;" onclick="endQuiz()">Finish & Show Results</button>
        </div>

        <div id="result-screen" class="hidden">
            <h1 id="result-msg"></h1>
            <p style="text-align:center; font-size: 2rem; margin: 20px 0;" id="final-score"></p>
            <button class="btn" onclick="location.reload()">Restart Quiz</button>
        </div>
    </div>

<script>
    const questions = [
        {
            en: "In which part of the Constitution are special provisions made for some states?",
            hi: "‡§∏‡§Ç‡§µ‡§ø‡§ß‡§æ‡§® ‡§ï‡•á ‡§ï‡§ø‡§∏ ‡§≠‡§æ‡§ó ‡§Æ‡•á‡§Ç ‡§ï‡•Å‡§õ ‡§∞‡§æ‡§ú‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§Ø‡•á ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§™‡•ç‡§∞‡§æ‡§µ‡§ß‡§æ‡§® ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à?",
            options: [
                { en: "Part - 20", hi: "‡§≠‡§æ‡§ó- 20", correct: false },
                { en: "Part - 22", hi: "‡§≠‡§æ‡§ó- 22", correct: false },
                { en: "Part - 21", hi: "‡§≠‡§æ‡§ó- 21", correct: true },
                { en: "Part - 24", hi: "‡§≠‡§æ‡§ó- 24", correct: false }
            ]
        },
        {
            en: "Article 371 of the Constitution is related to giving some special powers to the Governors of which states?",
            hi: "‡§∏‡§Ç‡§µ‡§ø‡§ß‡§æ‡§® ‡§ï‡§æ ‡§Ö‡§®‡•Å‡§ö‡•ç‡§õ‡•á‡§¶ 371 ‡§ï‡§ø‡§® ‡§∞‡§æ‡§ú‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§∞‡§æ‡§ú‡•ç‡§Ø‡§™‡§æ‡§≤ ‡§ï‡•ã ‡§ï‡•Å‡§õ ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§∂‡§ï‡•ç‡§§‡§ø‡§Ø‡§æ‡§Ç ‡§¶‡•á‡§®‡•á ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§π‡•à?",
            options: [
                { en: "Gujarat", hi: "‡§ó‡•Å‡§ú‡§∞‡§æ‡§§", correct: false },
                { en: "Maharashtra", hi: "‡§Æ‡§π‡§æ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞", correct: false },
                { en: "Nagaland", hi: "‡§®‡§æ‡§ó‡§æ‡§≤‡•à‡§Ç‡§°", correct: false },
                { en: "a and b both", hi: "a ‡§î‡§∞ b ‡§¶‡•ã‡§®‡•ã‡§Ç", correct: true }
            ]
        },
        {
            en: "Which Article of the Constitution provides special powers to the Governors of Maharashtra for Vidarbha and Marathwada regions?",
            hi: "‡§∏‡§Ç‡§µ‡§ø‡§ß‡§æ‡§® ‡§ï‡§æ ‡§ï‡•å‡§®-‡§∏‡§æ ‡§Ö‡§®‡•Å‡§ö‡•ç‡§õ‡•á‡§¶ ‡§Æ‡§π‡§æ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞ ‡§ï‡•á ‡§ó‡§µ‡§∞‡•ç‡§®‡§∞‡•ã‡§Ç ‡§ï‡•ã ‡§µ‡§ø‡§¶‡§∞‡•ç‡§≠ ‡§è‡§µ‡§Ç ‡§Æ‡§∞‡§æ‡§†‡§µ‡§æ‡§°‡§º‡§æ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§Ø‡•á ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§∂‡§ï‡•ç‡§§‡§ø‡§Ø‡§æ‡§Å ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à?",
            options: [
                { en: "371A", hi: "371A", correct: false },
                { en: "371", hi: "371", correct: true },
                { en: "371D", hi: "371D", correct: false },
                { en: "371B", hi: "371B", correct: false }
            ]
        },
        {
            en: "Article 371A of the Constitution makes special provisions for which state?",
            hi: "‡§∏‡§Ç‡§µ‡§ø‡§ß‡§æ‡§® ‡§ï‡•á ‡§Ö‡§®‡•Å‡§ö‡•ç‡§õ‡•á‡§¶ 371A ‡§ï‡§ø‡§∏ ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§ï‡•á ‡§≤‡§ø‡§Ø‡•á ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§™‡•ç‡§∞‡§æ‡§µ‡§ß‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à?",
            options: [
                { en: "Nagaland", hi: "‡§®‡§æ‡§ó‡§æ‡§≤‡•à‡§Ç‡§°", correct: true },
                { en: "Manipur", hi: "‡§Æ‡§£‡§ø‡§™‡•Å‡§∞", correct: false },
                { en: "Gujarat", hi: "‡§ó‡•Å‡§ú‡§∞‡§æ‡§§", correct: false },
                { en: "Tripura", hi: "‡§§‡•ç‡§∞‡§ø‡§™‡•Å‡§∞‡§æ", correct: false }
            ]
        },
        {
            en: "Which Article empowers the Governor of Assam to constitute a committee of members elected from tribal areas to the State Legislative Assembly?",
            hi: "‡§∏‡§Ç‡§µ‡§ø‡§ß‡§æ‡§® ‡§ï‡§æ ‡§ï‡•å‡§®-‡§∏‡§æ ‡§Ö‡§®‡•Å‡§ö‡•ç‡§õ‡•á‡§¶ ‡§Ö‡§∏‡§Æ ‡§ï‡•á ‡§∞‡§æ‡§ú‡•ç‡§Ø‡§™‡§æ‡§≤ ‡§ï‡•ã ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§¶‡•á‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§µ‡§π ‡§ú‡§®‡§ú‡§æ‡§§‡•Ä‡§Ø ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡•ã‡§Ç ‡§∏‡•á ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§µ‡§ø‡§ß‡§æ‡§®‡§∏‡§≠‡§æ ‡§Æ‡•á‡§Ç ‡§ö‡•Å‡§®‡•á ‡§ó‡§Ø‡•á ‡§∏‡§¶‡§∏‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡§æ ‡§∏‡§Æ‡§ø‡§§‡§ø ‡§ó‡§†‡§ø‡§§ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à?",
            options: [
                { en: "371A", hi: "371A", correct: false },
                { en: "371C", hi: "371C", correct: false },
                { en: "371B", hi: "371B", correct: true },
                { en: "371E", hi: "371E", correct: false }
            ]
        },
        {
            en: "Which Article empowers the President to constitute a committee for the Manipur Legislative Assembly from the members elected from the hilly areas of the state?",
            hi: "‡§∏‡§Ç‡§µ‡§ø‡§ß‡§æ‡§® ‡§ï‡§æ ‡§ï‡•å‡§®-‡§∏‡§æ ‡§Ö‡§®‡•Å‡§ö‡•ç‡§õ‡•á‡§¶ ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡§™‡§§‡§ø ‡§ï‡•ã ‡§Ø‡§π ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§¶‡•á‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§µ‡§π ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§ï‡•á ‡§™‡§π‡§æ‡§°‡§º‡•Ä ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡•ã‡§Ç ‡§∏‡•á ‡§Æ‡§£‡§ø‡§™‡•Å‡§∞ ‡§µ‡§ø‡§ß‡§æ‡§®‡§∏‡§≠‡§æ ‡§ï‡•á ‡§≤‡§ø‡§Ø‡•á ‡§ö‡•Å‡§®‡•á ‡§ó‡§Ø‡•á ‡§∏‡§¶‡§∏‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡§æ ‡§∏‡§Æ‡§ø‡§§‡§ø ‡§ó‡§†‡§ø‡§§ ‡§ï‡§∞ ‡§∏‡§ï‡•á‡§Ç?",
            options: [
                { en: "371C", hi: "371C", correct: true },
                { en: "371B", hi: "371B", correct: false },
                { en: "371D", hi: "371D", correct: false },
                { en: "371A", hi: "371A", correct: false }
            ]
        },
        {
            en: "Which of the following Articles empowers the Parliament to establish a Central University in Andhra Pradesh?",
            hi: "‡§®‡§ø‡§Æ‡•ç‡§®‡§≤‡§ø‡§ñ‡§ø‡§§ ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•å‡§®-‡§∏‡§æ ‡§Ö‡§®‡•Å‡§ö‡•ç‡§õ‡•á‡§¶ ‡§∏‡§Ç‡§∏‡§¶ ‡§ï‡•ã ‡§Ø‡§π ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§¶‡•á‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§µ‡§π ‡§Ü‡§Ç‡§ß‡•ç‡§∞ ‡§™‡•ç‡§∞‡§¶‡•á‡§∂ ‡§Æ‡•á‡§Ç ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡•Ä‡§Ø ‡§µ‡§ø‡§∂‡•ç‡§µ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§≤‡§Ø ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§æ‡§™‡§®‡§æ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à?",
            options: [
                { en: "371F", hi: "371F", correct: false },
                { en: "371G", hi: "371G", correct: false },
                { en: "371A", hi: "371A", correct: false },
                { en: "371E", hi: "371E", correct: true }
            ]
        },
        {
            en: "Which of the following provisions does Article 371F make for Sikkim?",
            hi: "‡§Ö‡§®‡•Å‡§ö‡•ç‡§õ‡•á‡§¶ 371F ‡§∏‡§ø‡§ï‡•ç‡§ï‡§ø‡§Æ ‡§ï‡•á ‡§≤‡§ø‡§Ø‡•á ‡§®‡§ø‡§Æ‡•ç‡§® ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•å‡§®-‡§∏‡§æ ‡§™‡•ç‡§∞‡§æ‡§µ‡§ß‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à?",
            options: [
                { en: "Sikkim Legislative Assembly will consist of at least 30 members.", hi: "‡§∏‡§ø‡§ï‡•ç‡§ï‡§ø‡§Æ ‡§µ‡§ø‡§ß‡§æ‡§®‡§∏‡§≠‡§æ ‡§ï‡§æ ‡§ó‡§†‡§® ‡§ï‡§Æ ‡§∏‡•á ‡§ï‡§Æ 30 ‡§∏‡§¶‡§∏‡•ç‡§Ø‡•ã‡§Ç ‡§∏‡•á ‡§π‡•ã‡§ó‡§æ‡•§", correct: false },
                { en: "One seat will be given to Sikkim in the Lok Sabha.", hi: "‡§≤‡•ã‡§ï‡§∏‡§≠‡§æ ‡§Æ‡•á‡§Ç ‡§∏‡§ø‡§ï‡•ç‡§ï‡§ø‡§Æ ‡§ï‡•ã ‡§è‡§ï ‡§∏‡•Ä‡§ü ‡§¶‡•Ä ‡§ú‡§æ‡§Ø‡•á‡§ó‡•Ä‡•§", correct: false },
                { en: "Governor's special responsibility to maintain peace in Sikkim.", hi: "‡§∞‡§æ‡§ú‡•ç‡§Ø‡§™‡§æ‡§≤ ‡§ï‡•ã ‡§∏‡§ø‡§ï‡•ç‡§ï‡§ø‡§Æ ‡§Æ‡•á‡§Ç ‡§∂‡§æ‡§Ç‡§§‡§ø ‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§¶‡§æ‡§Ø‡§ø‡§§‡•ç‡§µ‡•§", correct: false },
                { en: "All of the above.", hi: "‡§â‡§™‡§∞‡•ç‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§Æ‡•á‡§Ç ‡§∏‡§≠‡•Ä‡•§", correct: true }
            ]
        },
        {
            en: "Article 371G of the Indian Constitution makes special provisions for which state?",
            hi: "‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§∏‡§Ç‡§µ‡§ø‡§ß‡§æ‡§® ‡§ï‡§æ ‡§Ö‡§®‡•Å‡§ö‡•ç‡§õ‡•á‡§¶ 371G ‡§ï‡§ø‡§∏ ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§ï‡•á ‡§≤‡§ø‡§Ø‡•á ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§™‡•ç‡§∞‡§æ‡§µ‡§ß‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à?",
            options: [
                { en: "Manipur", hi: "‡§Æ‡§£‡§ø‡§™‡•Å‡§∞", correct: false },
                { en: "Mizoram", hi: "‡§Æ‡§ø‡§ú‡•ã‡§∞‡§Æ", correct: true },
                { en: "Goa", hi: "‡§ó‡•ã‡§µ‡§æ", correct: false },
                { en: "Tripura", hi: "‡§§‡•ç‡§∞‡§ø‡§™‡•Å‡§∞‡§æ", correct: false }
            ]
        },
        {
            en: "What special provision does Article 371H make for the state of Arunachal Pradesh?",
            hi: "‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§∏‡§Ç‡§µ‡§ø‡§ß‡§æ‡§® ‡§ï‡§æ ‡§Ö‡§®‡•Å‡§ö‡•ç‡§õ‡•á‡§¶ 371H ‡§Ö‡§∞‡•Å‡§£‡§æ‡§ö‡§≤ ‡§™‡•ç‡§∞‡§¶‡•á‡§∂ ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§ï‡•á ‡§≤‡§ø‡§Ø‡•á ‡§®‡§ø‡§Æ‡•ç‡§® ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•å‡§®-‡§∏‡•á ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§™‡•ç‡§∞‡§æ‡§µ‡§ß‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à?",
            options: [
                { en: "Special responsibility of Governor for law and order.", hi: "‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§Æ‡•á‡§Ç ‡§ï‡§æ‡§®‡•Ç‡§® ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ ‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§∞‡§æ‡§ú‡•ç‡§Ø‡§™‡§æ‡§≤ ‡§ï‡•ã ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§¶‡§æ‡§Ø‡§ø‡§§‡•ç‡§µ‡•§", correct: false },
                { en: "Arunachal Assembly shall have at least 30 members.", hi: "‡§Ö‡§∞‡•Å‡§£‡§æ‡§ö‡§≤ ‡§™‡•ç‡§∞‡§¶‡•á‡§∂ ‡§µ‡§ø‡§ß‡§æ‡§®‡§∏‡§≠‡§æ ‡§Æ‡•á‡§Ç ‡§ï‡§Æ ‡§∏‡•á ‡§ï‡§Æ 30 ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§π‡•ã‡§Ç‡§ó‡•á‡•§", correct: false },
                { en: "Both a and b.", hi: "a ‡§î‡§∞ b ‡§¶‡•ã‡§®‡•ã‡§Ç", correct: true },
                { en: "None of these.", hi: "‡§á‡§®‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•ã‡§à ‡§®‡§π‡•Ä‡§Ç", correct: false }
            ]
        },
        {
            en: "Which Article of the Indian Constitution provides that the Goa State Legislative Assembly shall consist of at least 30 members?",
            hi: "‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§∏‡§Ç‡§µ‡§ø‡§ß‡§æ‡§® ‡§ï‡§æ ‡§ï‡•å‡§®-‡§∏‡§æ ‡§Ö‡§®‡•Å‡§ö‡•ç‡§õ‡•á‡§¶ ‡§Ø‡§π ‡§™‡•ç‡§∞‡§æ‡§µ‡§ß‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§ó‡•ã‡§µ‡§æ ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§µ‡§ø‡§ß‡§æ‡§®‡§∏‡§≠‡§æ ‡§Æ‡•á‡§Ç ‡§ï‡§Æ ‡§∏‡•á ‡§ï‡§Æ 30 ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§π‡•ã‡§Ç‡§ó‡•á?",
            options: [
                { en: "371H", hi: "371H", correct: false },
                { en: "371 I", hi: "371 I", correct: true },
                { en: "371J", hi: "371J", correct: false },
                { en: "371B", hi: "371B", correct: false }
            ]
        },
        {
            en: "Which Article of the Indian Constitution authorizes the President to fix special responsibilities for the Governor of Karnataka?",
            hi: "‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§∏‡§Ç‡§µ‡§ø‡§ß‡§æ‡§® ‡§ï‡§æ ‡§ï‡•å‡§®-‡§∏‡§æ ‡§Ö‡§®‡•Å‡§ö‡•ç‡§õ‡•á‡§¶ ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡§™‡§§‡§ø ‡§ï‡•ã ‡§á‡§∏ ‡§¨‡§æ‡§§ ‡§ï‡•á ‡§≤‡§ø‡§Ø‡•á ‡§Ö‡§ß‡§ø‡§ï‡•É‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§µ‡§π ‡§ï‡§∞‡•ç‡§®‡§æ‡§ü‡§ï ‡§ï‡•á ‡§∞‡§æ‡§ú‡•ç‡§Ø‡§™‡§æ‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§Ø‡•á ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§¶‡§æ‡§Ø‡§ø‡§§‡•ç‡§µ ‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç?",
            options: [
                { en: "371J", hi: "371J", correct: true },
                { en: "371F", hi: "371F", correct: false },
                { en: "371 I", hi: "371 I", correct: false },
                { en: "371H", hi: "371H", correct: false }
            ]
        }
    ];

    let currentQuestions = [];
    let qIndex = 0;
    let score = 0;
    let timerInterval;
    let timeLeft;
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

    function playSound(type) {
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.connect(gain);
        gain.connect(audioCtx.destination);
        if(type === 'correct') {
            osc.frequency.setValueAtTime(880, audioCtx.currentTime);
            osc.type = 'sine';
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
            osc.start(); osc.stop(audioCtx.currentTime + 0.5);
        } else {
            osc.frequency.setValueAtTime(110, audioCtx.currentTime);
            osc.type = 'sawtooth';
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
            osc.start(); osc.stop(audioCtx.currentTime + 0.3);
        }
    }

    function startQuiz() {
        const shuffle = document.getElementById('shuffle-toggle').checked;
        currentQuestions = shuffle ? [...questions].sort(() => Math.random() - 0.5) : [...questions];
        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('quiz-screen').classList.remove('hidden');
        showQuestion();
    }

    function showQuestion() {
        if(qIndex >= currentQuestions.length) return endQuiz();
        
        const q = currentQuestions[qIndex];
        document.getElementById('q-counter').innerText = `Question ${qIndex + 1}/${currentQuestions.length}`;
        document.getElementById('q-text').innerHTML = `${q.en}<br><span class="hi">${q.hi}</span>`;
        
        const optionsBox = document.getElementById('options-box');
        optionsBox.innerHTML = '';
        
        q.options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'btn option-btn';
            btn.innerHTML = `<span>${opt.en}</span><span class="hi">${opt.hi}</span>`;
            btn.onclick = () => handleAnswer(opt, btn);
            optionsBox.appendChild(btn);
        });

        updateProgress();
        startTimer();
    }

    function startTimer() {
        clearInterval(timerInterval);
        const manual = parseInt(document.getElementById('manual-timer').value);
        if(manual <= 0 || isNaN(manual)) {
            document.getElementById('timer').innerText = '';
            return;
        }
        timeLeft = manual;
        const timerEl = document.getElementById('timer');
        timerEl.innerText = `‚è± ${timeLeft}s`;
        timerEl.classList.remove('pulse');
        
        timerInterval = setInterval(() => {
            timeLeft--;
            timerEl.innerText = `‚è± ${timeLeft}s`;
            if(timeLeft < 5) timerEl.classList.add('pulse');
            if(timeLeft <= 0) {
                clearInterval(timerInterval);
                handleAnswer({correct: false}, null);
            }
        }, 1000);
    }

    function handleAnswer(opt, btn) {
        clearInterval(timerInterval);
        const buttons = document.querySelectorAll('.option-btn');
        buttons.forEach(b => b.disabled = true);

        if(opt.correct) {
            score++;
            if(btn) btn.style.background = 'var(--correct)';
            playSound('correct');
            triggerConfetti();
            document.getElementById('score-display').innerText = `Score: ${score}`;
        } else {
            if(btn) btn.style.background = 'var(--wrong)';
            playSound('wrong');
            showSadEmoji();
            // Highlight correct one
            buttons.forEach((b, idx) => {
                if(currentQuestions[qIndex].options[idx].correct) b.style.background = 'var(--correct)';
            });
        }

        setTimeout(() => {
            qIndex++;
            showQuestion();
        }, 1500);
    }

    function updateProgress() {
        const percent = (qIndex / currentQuestions.length) * 100;
        document.getElementById('progress-bar').style.width = percent + '%';
    }

    function showSadEmoji() {
        const overlay = document.getElementById('emoji-overlay');
        overlay.style.display = 'block';
        overlay.classList.add('shake');
        setTimeout(() => {
            overlay.style.display = 'none';
            overlay.classList.remove('shake');
        }, 1000);
    }

    function triggerConfetti() {
        const canvas = document.getElementById('confetti-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        let particles = [];
        for(let i=0; i<50; i++) {
            particles.push({
                x: Math.random() * canvas.width,
                y: -10,
                color: `hsl(${Math.random()*360}, 100%, 50%)`,
                s: Math.random() * 5 + 2,
                v: Math.random() * 5 + 2
            });
        }
        function draw() {
            ctx.clearRect(0,0,canvas.width, canvas.height);
            particles.forEach(p => {
                p.y += p.v;
                ctx.fillStyle = p.color;
                ctx.fillRect(p.x, p.y, p.s, p.s);
            });
            if(particles[0].y < canvas.height) requestAnimationFrame(draw);
            else ctx.clearRect(0,0,canvas.width, canvas.height);
        }
        draw();
    }

    function endQuiz() {
        clearInterval(timerInterval);
        document.getElementById('quiz-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.remove('hidden');
        document.getElementById('progress-bar').style.width = '100%';
        
        const percent = (score / currentQuestions.length) * 100;
        let msg = "";
        if(percent >= 80) msg = "üèÜ Outstanding Performance!";
        else if(percent >= 50) msg = "üëè Well Done! Keep it up.";
        else msg = "üìö Practice makes perfect! Try again.";
        
        document.getElementById('result-msg').innerText = msg;
        document.getElementById('final-score').innerText = `${score} / ${currentQuestions.length}`;
    }
</script>
</body>
</html>