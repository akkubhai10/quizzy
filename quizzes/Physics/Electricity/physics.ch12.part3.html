<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Physics & Magnetism Quiz (101-173)</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --text-main: #ffffff;
            --text-hindi: #e0e0e0;
            --accent-green: #00e676;
            --accent-red: #ff1744;
            --mesh-1: #667eea;
            --mesh-2: #764ba2;
            --mesh-3: #ff512f;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; -webkit-tap-highlight-color: transparent; }

        body {
            background: #0f0c29;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--text-main);
            overflow-x: hidden;
            padding: 15px;
        }

        /* Animated Mesh Background */
        .bg-mesh {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: 
                radial-gradient(circle at 15% 50%, rgba(102, 126, 234, 0.5) 0%, transparent 50%),
                radial-gradient(circle at 85% 30%, rgba(255, 81, 47, 0.5) 0%, transparent 50%),
                radial-gradient(circle at 50% 80%, rgba(118, 75, 162, 0.5) 0%, transparent 50%);
            z-index: -1;
            filter: blur(50px);
            animation: pulseBg 10s infinite alternate;
        }
        @keyframes pulseBg { 0% { transform: scale(1); } 100% { transform: scale(1.1); } }

        /* Glass Card */
        .quiz-container {
            width: 100%; max-width: 800px;
            background: var(--glass-bg);
            backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 25px; padding: 25px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            position: relative; overflow: hidden; transition: height 0.3s ease;
        }

        /* Progress Bar */
        .progress-track { position: absolute; top: 0; left: 0; width: 100%; height: 5px; background: rgba(255,255,255,0.1); }
        .progress-fill {
            height: 100%; background: linear-gradient(90deg, #00c6ff, #0072ff);
            width: 0%; transition: width 0.4s ease;
            box-shadow: 0 0 10px rgba(0, 114, 255, 0.7);
        }

        /* Header */
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; font-weight: 600; font-size: 0.9rem; }
        .timer-badge {
            background: rgba(0,0,0,0.3); padding: 6px 14px; border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; gap: 6px;
        }
        .timer-text.pulse { color: var(--accent-red); animation: pulseRed 1s infinite; }

        /* Question & Options */
        .question-box { margin-bottom: 25px; }
        .q-en { font-size: 1.2rem; font-weight: 700; margin-bottom: 8px; line-height: 1.3; }
        .q-hi { font-size: 1rem; color: var(--text-hindi); font-weight: 400; line-height: 1.4; opacity: 0.9; }

        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        @media (max-width: 600px) { .options-grid { grid-template-columns: 1fr; } }

        .option-btn {
            background: rgba(255,255,255,0.07); border: 1px solid rgba(255,255,255,0.1);
            padding: 14px; border-radius: 15px; color: white; cursor: pointer;
            text-align: left; transition: all 0.2s; position: relative; overflow: hidden;
        }
        .option-btn:hover:not(:disabled) { background: rgba(255,255,255,0.2); transform: translateY(-2px); }
        .option-btn .opt-en { display: block; font-weight: 600; font-size: 0.95rem; margin-bottom: 2px; }
        .option-btn .opt-hi { display: block; font-size: 0.85rem; color: #ccc; }

        /* Feedback States */
        .correct { background: rgba(0, 230, 118, 0.25) !important; border-color: var(--accent-green) !important; box-shadow: 0 0 15px rgba(0, 230, 118, 0.3); }
        .wrong { background: rgba(255, 23, 68, 0.25) !important; border-color: var(--accent-red) !important; }

        /* Controls */
        .btn-primary {
            background: linear-gradient(90deg, #ff512f, #dd2476);
            border: none; padding: 14px 30px; color: white; border-radius: 50px;
            font-weight: 600; cursor: pointer; margin-top: 25px; width: 100%;
            font-size: 1rem; box-shadow: 0 4px 15px rgba(221, 36, 118, 0.4);
            transition: transform 0.2s;
        }
        .btn-primary:active { transform: scale(0.97); }
        .btn-secondary { background: rgba(255, 255, 255, 0.15); margin-top: 15px; box-shadow: none; font-size: 0.9rem; }

        /* Screens */
        .screen { display: none; text-align: center; }
        .screen.active { display: block; animation: fadeUp 0.5s; }
        
        .input-group { margin: 20px auto; display: flex; flex-direction: column; gap: 12px; width: 100%; max-width: 280px; }
        input[type="number"] {
            background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.2);
            padding: 12px; border-radius: 12px; color: white; text-align: center; font-size: 1.1rem;
        }
        .toggle-row { display: flex; justify-content: center; align-items: center; gap: 10px; cursor: pointer; }

        /* Animations */
        @keyframes fadeUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes pulseRed { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20% { transform: translateX(-6px); } 40% { transform: translateX(6px); }
            60% { transform: translateX(-3px); } 80% { transform: translateX(3px); }
        }
        .shake { animation: shake 0.4s; }

        /* Confetti */
        .confetti { position: fixed; width: 8px; height: 8px; top: -10px; z-index: 9999; animation: fall linear forwards; }
        @keyframes fall { to { transform: translateY(110vh) rotate(720deg); } }

        /* Feedback Overlay */
        #feedback-overlay {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            font-size: 5rem; pointer-events: none; opacity: 0; transition: opacity 0.2s; z-index: 100;
        }
    </style>
</head>
<body>

    <div class="bg-mesh"></div>

    <div class="quiz-container">
        <div class="progress-track"><div class="progress-fill" id="progressBar"></div></div>

        <div id="startScreen" class="screen active">
            <h1 style="margin-bottom: 5px;">Magnetism & Electricity</h1>
            <h3 style="color: #ccc; font-weight: 400; margin-bottom: 30px;">Complete Test (Q101-173)</h3>
            
            <div class="input-group">
                <label>Timer (Seconds/Question)</label>
                <input type="number" id="timerInput" placeholder="0 = No Timer" min="0">
                
                <label class="toggle-row">
                    <input type="checkbox" id="shuffleInput">
                    <span>Shuffle Questions / प्रश्न मिलाएं</span>
                </label>
            </div>
            
            <button class="btn-primary" onclick="app.start()">Start Quiz / शुरू करें</button>
        </div>

        <div id="quizScreen" class="screen" style="text-align: left;">
            <div class="header">
                <span>Q: <span id="currQ">1</span>/<span id="totalQ">73</span></span>
                <div class="timer-badge" id="timerBadge">
                    <span>⏱</span> <span id="timerText">00</span>
                </div>
                <span>Score: <span id="scoreVal">0</span></span>
            </div>

            <div class="question-box">
                <div class="q-en" id="qTextEn">Question</div>
                <div class="q-hi" id="qTextHi">प्रश्न</div>
            </div>

            <div class="options-grid" id="optionsBox"></div>
            
            <div id="feedback-overlay"></div>

            <button class="btn-primary btn-secondary" onclick="app.finishEarly()">Finish & Show Result / समाप्त करें</button>
        </div>

        <div id="resultScreen" class="screen">
            <div id="resultEmoji" style="font-size: 5rem; margin-bottom: 10px;"></div>
            <h2 id="resultTitle"></h2>
            <h1 style="font-size: 3.5rem; margin: 15px 0; color: var(--accent-green);" id="finalScore"></h1>
            <p id="resultMsg" style="color: #ddd; margin-bottom: 25px;"></p>
            <button class="btn-primary" onclick="location.reload()">Restart Quiz / फिर से शुरू करें</button>
        </div>
    </div>

<script>
    // --- DATA (Q101-173) ---
    const questionData = [
        { id: 101, qEn: "An electron enters a magnetic field perpendicular to the field lines. The direction of force on the electron is:", qHi: "आकृति में कोई इलेक्ट्रॉन किसी चुंबकीय क्षेत्र में चुंबकीय क्षेत्र के लम्बवत् प्रवेश करता है। इलेक्ट्रॉन पर आरोपित बल की दिशा क्या होगी-", opts: [{en:"To the right", hi:"दाईं ओर"}, {en:"To the left", hi:"बाईं ओर"}, {en:"Out of the page", hi:"कागज के बाहर की ओर"}, {en:"Into the page", hi:"कागज के भीतर की ओर"}], ans: 3 },
        { id: 102, qEn: "Which property of a proton changes when it moves freely in a magnetic field?", qHi: "किसी प्रोटॉन का निम्नांकित में कौन-सा गुण किसी चुंबकीय क्षेत्र में मुक्त गति करते समय परिवर्तित हो जाता है ।", opts: [{en:"Mass", hi:"द्रव्यमान"}, {en:"Speed", hi:"चाल"}, {en:"Velocity", hi:"वेग"}, {en:"Momentum", hi:"संवेग"}], ans: 2 },
        { id: 103, qEn: "A positively charged particle (alpha-particle) projected towards the West is deflected towards the North by a magnetic field. The direction of the magnetic field is:", qHi: "पश्चिम की ओर प्रक्षेपित कोई धनावेशित कण (α-कण) किसी चुंबकीय क्षेत्र द्वारा उत्तर की ओर विक्षेपित होता है । चुंबकीय क्षेत्र की दिशा क्या है ?", opts: [{en:"Towards South", hi:"दक्षिण की ओर"}, {en:"Towards East", hi:"पूर्व की ओर"}, {en:"Downward", hi:"अधोमुखी (Downward)"}, {en:"Upward", hi:"उपरिमुखी (upward)"}], ans: 3 },
        { id: 104, qEn: "A rectangular coil of copper wire is rotated in a magnetic field. The direction of induced current changes once in each:", qHi: "ताम्बे के तार की एक आयताकार कुंडली (Coil) किसी चुंबकीय क्षेत्र में घूर्णी गति कर रही है। इस कुंडली में प्रेरित विधुतधारा की दिशा में कितने परिभ्रमण के पश्चात् परिवर्तन होता है-", opts: [{en:"Two rotations", hi:"दो"}, {en:"One rotation", hi:"एक"}, {en:"Half rotation", hi:"आधे"}, {en:"One-fourth rotation", hi:"एक-चौथाई"}], ans: 2 },
        { id: 105, qEn: "The frequency of AC supplied to our houses is:", qHi: "घरेलू विधुत आपूर्ति करने वाले ac की आवृत्ति होती है-", opts: [{en:"45Hz", hi:"45Hz"}, {en:"50Hz", hi:"50Hz"}, {en:"60Hz", hi:"60Hz"}, {en:"100Hz", hi:"100Hz"}], ans: 1 },
        { id: 106, qEn: "After what time does the AC produced in India change its direction?", qHi: "भारत में उत्पादित ac कितने समय पश्चात् अपनी दिशा बदलती है-", opts: [{en:"1/50 sec", hi:"1/50 sec."}, {en:"1/60 sec", hi:"1/60 sec."}, {en:"1/100 sec", hi:"1/100 sec."}, {en:"1/45 sec", hi:"1/45 sec."}], ans: 2 },
        { id: 107, qEn: "What type of current does a Dynamo generate?", qHi: "जनित्र (Dynamso) किस प्रकार की विधुत धारा उत्पन्न करता है ?", opts: [{en:"Direct Current (DC)", hi:"दिष्ट"}, {en:"Alternating Current (AC)", hi:"प्रत्यावर्ती"}, {en:"Both", hi:"दोनों"}, {en:"None", hi:"इनमें से कोई नहीं"}], ans: 2 },
        { id: 108, qEn: "Which of the following is NOT a magnetic material?", qHi: "निम्नलिखित में कौन चुंबकीय पदार्थ नहीं है ?", opts: [{en:"Iron", hi:"लोहा"}, {en:"Nickel", hi:"निकेल"}, {en:"Brass", hi:"पीतल"}, {en:"Cobalt", hi:"कोबाल्ट"}], ans: 2 },
        { id: 109, qEn: "Who discovered the magnetic effect of electric current?", qHi: "विधुतधारा के चुंबकीय प्रभाव की खोज किसने की ?", opts: [{en:"Faraday", hi:"फैराडे ने"}, {en:"Oersted", hi:"ओर्स्टेड ने"}, {en:"Ampere", hi:"एम्पीयर ने"}, {en:"Bohr", hi:"बोर ने"}], ans: 1 },
        { id: 110, qEn: "Which statement is NOT true regarding magnetic field lines?", qHi: "निम्न में कौन-सा कथन सत्य नहीं है-", opts: [{en:"They are continuous closed curves", hi:"चुंबकीय क्षेत्र रेखाएँ सतत् बंद वक्र है।"}, {en:"They emerge from North pole", hi:"चुंबकीय क्षेत्र रेखाएँ चुंबक के उत्तरी ध्रुव से निकलकर दक्षिणी ध्रुव में प्रवेश करती है।"}, {en:"They intersect each other", hi:"चुंबकीय-क्षेत्र रेखाएँ एक-दूसरे को काटती है।"}, {en:"Tangent gives direction", hi:"चुंबकीय क्षेत्र रेखा के किसी बिंदु पर खींची गई स्पर्श रेखा उस बिन्दु पर उस क्षेत्र की दिशा बताती है।"}], ans: 2 },
        { id: 111, qEn: "Direction of magnetic field associated with current direction is given by:", qHi: "धारा की दिशा और उससे संबद्ध चुंबकीय क्षेत्र की दिशा की जानकारी मिलती है।", opts: [{en:"Maxwell's Left Hand Rule", hi:"मैक्सवेल के वाम हस्त नियम से"}, {en:"Maxwell's Right Hand Rule", hi:"मैक्सवेल के दक्षिण हस्त नियम से"}, {en:"Fleming's Left Hand Rule", hi:"फ्लेमिंग के वाम-हस्त नियम से"}, {en:"Fleming's Right Hand Rule", hi:"फ्लेमिंग के दक्षिण-हस्त नियम से"}], ans: 1 },
        { id: 112, qEn: "Which scientist proved current carrying conductor exerts force on magnet?", qHi: "निम्नलिखित में किस वैज्ञानिक ने प्रयोग द्वारा सिद्ध किया की किसी धारावाही चालक पर चुंबकीय क्षेत्र बल लगाता है ?", opts: [{en:"Oersted", hi:"ओर्स्टेड"}, {en:"Ampere", hi:"एम्पीयर"}, {en:"Faraday", hi:"फैराडे"}, {en:"Fleming", hi:"फ्लेमिंग"}], ans: 2 },
        { id: 113, qEn: "Which rule gives the direction of force on a current carrying conductor in a magnetic field?", qHi: "चुंबकीय क्षेत्र में धारावाही चालक पर लगनेवाले बल की दिशा किस नियम से जानी जाती है ?", opts: [{en:"Maxwell's Left Hand", hi:"मैक्सवेल वाम हस्त नियम से"}, {en:"Maxwell's Right Hand", hi:"मैक्स वेल दक्षिण-हस्त नियम से"}, {en:"Fleming's Left Hand", hi:"फ्लेमिंग वाम हस्त नियम से"}, {en:"Fleming's Right Hand", hi:"फ्लेमिंग दक्षिण-हस्त नियम से"}], ans: 2 },
        { id: 114, qEn: "Generator with a split ring commutator produces:", qHi: "दिक़् परिवर्तकयुक्त जनित्र उत्पन्न करता है-", opts: [{en:"AC", hi:"प्रत्यावर्ती धारा"}, {en:"DC", hi:"दिष्ट धारा"}, {en:"Both A and B", hi:"A तथा B दोनों"}, {en:"None", hi:"इनमे से कोई नहीं"}], ans: 1 },
        { id: 115, qEn: "The electricity supplied to our homes is:", qHi: "हमारे घरों में जो विधुत आपूर्ति की जाती है वह-", opts: [{en:"220V DC", hi:"220 V पर दिष्ट धारा होती है"}, {en:"12V DC", hi:"12V पर दिष्ट धारा होती है"}, {en:"220V AC", hi:"220V पर प्रत्यावर्ती धारा होती है"}, {en:"12V AC", hi:"12V पर प्रत्यावर्ती धारा होती है"}], ans: 2 },
        { id: 116, qEn: "Live wire is usually of which color?", qHi: "विधुन्मय तार (Live wire) सामान्यतः होता है-", opts: [{en:"Green", hi:"हरे रंग का"}, {en:"Red", hi:"लाल रंग का"}, {en:"Black", hi:"काले रंग का"}, {en:"Light color", hi:"हल्के रंग का"}], ans: 1 },
        { id: 117, qEn: "Switches are connected to:", qHi: "स्विच लगाये जाते हैं-", opts: [{en:"Cold wire (Neutral)", hi:"ठंडे तार से"}, {en:"Hot wire (Live)", hi:"गर्म तार से"}, {en:"Earth wire", hi:"भू-तार से"}, {en:"Sometimes cold, sometimes earth", hi:"कभी ठंडे तार से तो कभी भू-तार से"}], ans: 1 },
        { id: 118, qEn: "Colors of Live, Earth, and Neutral wires are usually:", qHi: "घरेलू वायरिंग में तीन तार होते हैं- गर्म (Live wire) ठंडा (n ), भू-तार (Earth-wire)। इन तीनों तारों का रंग प्रायः होता है-", opts: [{en:"Green, Black, Red", hi:"हरा, काला, लाल"}, {en:"Black, Green, Red", hi:"काला, हरा, लाल"}, {en:"Red, Black, Green", hi:"लाल, काला, हरा"}, {en:"Black, Red, Green", hi:"काला, लाल, हरा"}], ans: 2 },
        { id: 119, qEn: "Which statement is correct regarding a Bar Magnet?", qHi: "दण्ड चुम्बक के संबंध में निम्नलिखित कथनों में से कौन-सा एक सही है ?", opts: [{en:"Pole strength unequal", hi:"किसी दण्ड चुम्बक के ऊपरी ध्रुव का ध्रुव प्राबल्य उसके दक्षिणी ध्रुव के ध्रुव प्राबल्य की अपेक्षा अधिक होता है"}, {en:"Cutting longitudinally separates poles", hi:"जब किसी दण्ड चुम्बक को उसके अक्ष के अनुलम्ब काआ जाता है, तो उसके उत्तरी और दक्षिणी ध्रुव अलग हो जाते हैं"}, {en:"Cutting transversely creates new magnets", hi:"जब किसी दण्ड चुम्बक को उसके अक्ष के अनुलम्ब काटा जाता है, तो दो नए दण्ड चुम्बक बन जाते हैं"}, {en:"Poles are unequal in nature", hi:"किसी दण्ड चुम्बक के ध्रुव परिमाण में असमान और प्रकृति में विपरित होते हैं"}], ans: 2 },
        { id: 120, qEn: "Compass cannot be used to detect:", qHi: "दिकसूचक का प्रयोग किसका पता लगाने के लिए नहीं किया जा सकता है ?", opts: [{en:"North-South Direction", hi:"चुम्बकीय उत्तर-दक्षिण दिशा"}, {en:"Polarity of Magnet", hi:"चुम्बक की ध्रुवता"}, {en:"Strength of Magnet", hi:"चुम्बक की शक्ति"}, {en:"Direction of Magnetic Field", hi:"चुम्बकीय क्षेत्र की दिशा"}], ans: 2 },
        { id: 121, qEn: "In a uniform magnetic field, field lines should be:", qHi: "एक समान चुम्बकीय क्षेत्र में बल रेखाएँ होनी चाहिए-", opts: [{en:"Convergent", hi:"अभिसारी"}, {en:"Divergent", hi:"अपसारी"}, {en:"Parallel to each other", hi:"एक-दूसरे के समांतर"}, {en:"Intersecting", hi:"प्रतिच्छेद"}], ans: 2 },
        { id: 122, qEn: "If a magnet has a third pole, it is called:", qHi: "यदि किसी चुम्बक का तीसरा ध्रुव हो, तो तीसरा ध्रुव कहलाता है-", opts: [{en:"Extra pole", hi:"अतिरिक्त ध्रुव"}, {en:"Random pole", hi:"यादृच्छिक ध्रुव"}, {en:"Defective pole", hi:"दोषपूर्ण ध्रुव"}, {en:"Consequent pole", hi:"परिणामी ध्रुव"}], ans: 3 },
        { id: 123, qEn: "Earth is a huge magnet. Its magnetic field extends in:", qHi: "पृथ्वी पर बहुत बड़ा चुम्बक है। इसका चुम्बकीय क्षेत्र किस दिशा में विस्तृत होता है ?", opts: [{en:"East to West", hi:"पूर्व से पश्चिम"}, {en:"West to East", hi:"पश्चिम से पूर्व"}, {en:"North to South", hi:"उत्तर से दक्षिण"}, {en:"South to North", hi:"दक्षिण से उत्तर"}], ans: 3 },
        { id: 124, qEn: "The Curie temperature of Iron is:", qHi: "लोहा का क्यूरी ताप होता है-", opts: [{en:"450°C", hi:"450°C"}, {en:"575°C", hi:"575°C"}, {en:"635°C", hi:"635°C"}, {en:"780°C", hi:"780°C"}], ans: 3 },
        { id: 125, qEn: "Magnet is an essential part of which appliance?", qHi: "चुम्बक निम्नलिखित गृह उपकरणों में से किसका अत्यावश्यक भाग है ?", opts: [{en:"Calling Bell", hi:"बुलाने की घण्टी"}, {en:"Fan", hi:"पंखा"}, {en:"Washing Machine", hi:"धुलाई मशीन"}, {en:"All of the above", hi:"उपर्युक्त सभी"}], ans: 3 },
        { id: 126, qEn: "The value of angle of dip at the magnetic equator is:", qHi: "विषुवत रेखा पर नति काणे का मान होता है-", opts: [{en:"0°", hi:"0°"}, {en:"90°", hi:"90°"}, {en:"180°", hi:"180°"}, {en:"45°", hi:"45°"}], ans: 0 },
        { id: 127, qEn: "Lenz's Law is a consequence of conservation of:", qHi: "लेन्ज का नियम है-", opts: [{en:"Mass", hi:"द्रव्यमान संरक्षण का"}, {en:"Momentum", hi:"संवेग संरक्षण का"}, {en:"Energy", hi:"ऊर्जा संरक्षण का"}, {en:"Mass & Energy", hi:"द्रव्यमान व ऊर्जा संरक्षण का"}], ans: 2 },
        { id: 128, qEn: "What is a Transformer?", qHi: "ट्राँसफॉर्मर क्या है ?", opts: [{en:"Converts DC to AC", hi:"DC को AC में परिवर्तित करता है"}, {en:"Steps up/down AC voltage", hi:"AC वोल्टता को घटाने और बढ़ाने में प्रयुक्त होता है।"}, {en:"Converts AC to DC", hi:"AC वोल्टता को DC वोल्टता में परिवर्तित करता है।"}, {en:"Converts Electric to Mechanical", hi:"वैद्युत ऊर्जा को यांत्रिक ऊर्जा में परिवर्तित करता है।"}], ans: 1 },
        { id: 129, qEn: "The principle of transformer is based on:", qHi: "ट्रांसफार्मर का सिद्धान्त आधारित है-", opts: [{en:"Magnetic Induction", hi:"चुम्बकीय प्रेरण के सिद्धान्त पर"}, {en:"Electromagnetic Induction", hi:"विधुत चुम्बकीय प्रेरण के सिद्धांत पर"}, {en:"Self Induction", hi:"स्वप्रेरण के सिद्धान्त पर"}, {en:"Mutual Induction", hi:"अन्योन्य प्रेरण के सिद्धान्त पर"}], ans: 3 },
        { id: 130, qEn: "Material most suitable for making transformer core:", qHi: "ट्रांसफार्मर के क्रोड बनाने के लिए निम्नलिखित पदार्थों में से कौन-सा अधिक उपर्युक्त होता है ?", opts: [{en:"Soft Iron", hi:"नर्म लोहा"}, {en:"Nickel", hi:"निकिल"}, {en:"Copper", hi:"तांबा"}, {en:"Stainless Steel", hi:"स्टेनलेस स्टील"}], ans: 0 },
        { id: 131, qEn: "Electric Motor works on the principle of:", qHi: "विधुत मोटर निम्न सिद्धान्त के अनुसार कार्य करती है-", opts: [{en:"Faraday's Law", hi:"फैराडे के नियम"}, {en:"Lenz's Law", hi:"लेन्ज का नियम"}, {en:"Ohm's Law", hi:"ओम का नियम"}, {en:"Fleming's Law", hi:"फ्लेमिंग का नियम"}], ans: 0 },
        { id: 132, qEn: "The working principle of Dynamo (Generator) is:", qHi: "डायनेमो (विधुत जनित्र) का कार्य करने का सिद्धान्त है-", opts: [{en:"Heating Effect", hi:"ताप विधुत प्रभाव"}, {en:"Electromagnetic Induction", hi:"विधुत चुम्बकीय प्रभाव"}, {en:"Magnetic Effect of Current", hi:"धारा का चुम्बकीय प्रभाव"}, {en:"Energy Conservation", hi:"ऊर्जा संरक्षण"}], ans: 1 },
        { id: 133, qEn: "Which of the following describes the function of a Dynamo?", qHi: "डायनेमो का कार्य सिद्धान्त निम्नलिखित में से किससे सम्बन्धित है ?", opts: [{en:"Sound to Mechanical", hi:"यह ध्वनि ऊर्जा को यांत्रिक ऊर्जा में परिवर्तित करता है।"}, {en:"Electrical to Mechanical", hi:"यह विधुत ऊर्जा को यांत्रिक ऊर्जा में परिवर्तित करता है।"}, {en:"Electrical to Sound", hi:"यह विधुत ऊर्जा को ध्वनि ऊर्जा में परिवर्तित करता है।"}, {en:"Mechanical to Electrical", hi:"यह यांत्रिक ऊर्जा को विधुत ऊर्जा में परिवर्तित करता है।"}], ans: 3 },
        { id: 134, qEn: "Laws of Electromagnetic Induction are used to design:", qHi: "विधुत चुम्बकीय प्रेरण के नियमों का उपयोग निम्न में से किसको बनाने में उपयोग किया गया है ?", opts: [{en:"Galvanometer", hi:"धारा मापी"}, {en:"Voltmeter", hi:"वोल्ट मीटर"}, {en:"Electric Motor", hi:"विधुत मोटर"}, {en:"Generator", hi:"जनित्र"}], ans: 3 },
        { id: 135, qEn: "Which statement is FALSE?", qHi: "निम्नलिखित कथनों में कौन असत्य है ?", opts: [{en:"Magnet has field around it", hi:"किसी चुम्बक के आस-पास चुम्बकीय क्षेत्र होता है।"}, {en:"Oersted discovered mag effect", hi:"विधुत चुम्बकीय प्रभाव की खोज का श्रेय ओर्स्टेड को है।"}, {en:"Compass points random near magnet", hi:"यदि कम्पास सूई को चुम्बक के निकट रखा जाए, तो वह उत्तर-दक्षिण दिशा में न रुककर किसी विशेष दिशा में व्यवस्थित होता है।"}, {en:"Current creates no field", hi:"किसी विधुत धारा के आस-पास चुम्बकीय क्षेत्र उत्पन्न नहीं होता है।"}], ans: 3 },
        { id: 136, qEn: "Fleming's Left Hand Rule gives direction of:", qHi: "फ्लेमिंग के बाएं हाथ का नियम दिशा बताते हैं-", opts: [{en:"Current in field", hi:"विधुत धारा की उस चालक में जो विधुत क्षेत्र में रखा है"}, {en:"Field in conductor", hi:"विधुत चालक में चुम्बकीय क्षेत्र की"}, {en:"Force on conductor in field", hi:"विधुत चालक में बल की दिशा जब चालक चुम्बकीय क्षेत्र में है"}, {en:"None", hi:"इनमें से कोई नहीं"}], ans: 2 },
        { id: 137, qEn: "Magnetic needle points towards:", qHi: "चुम्बकीय सूई किस तरफ संकेत करती है ?", opts: [{en:"East", hi:"पूर्व"}, {en:"West", hi:"पश्चिम"}, {en:"North", hi:"उत्तर"}, {en:"Sky", hi:"आकाश"}], ans: 2 },
        { id: 138, qEn: "Process to make a metal non-magnetic:", qHi: "वह क्रिया जिसके द्वारा धातु को अचुम्बकीय बनाया जाता है, कहलाती है-", opts: [{en:"Demagnetization", hi:"डिमैग्नेटाइजेशन"}, {en:"Degassing", hi:"डिगाइसिंग"}, {en:"Degaussing", hi:"डिग्रेडिंग"}, {en:"Greasing", hi:"डिक्रीसिंग"}], ans: 0 },
        { id: 139, qEn: "Ratio of Flux Density and Magnetic Field Strength in a medium is:", qHi: "फ्लक्स घनता और चुम्बकीय क्षेत्र की क्षमता का अनुपात किसी माध्यम में होता है, उसका-", opts: [{en:"Magnetic Density", hi:"चुम्बकन की घनता"}, {en:"Susceptibility", hi:"ग्रहणशीलता"}, {en:"Relative Permeability", hi:"सम्बन्धित व्यापृता"}, {en:"Permeability", hi:"पारगम्यता"}], ans: 3 },
        { id: 140, qEn: "A stationary magnet always shows:", qHi: "एक स्थिर चुम्बक हमेशा दर्शाती है-", opts: [{en:"N-N and S-S", hi:"उत्तर-उत्तर तथा दक्षिण-दक्षिण"}, {en:"N-S and S-N", hi:"उत्तर-दक्षिण तथा दक्षिण-उत्तर"}, {en:"E-E and W-W", hi:"पूर्व-पूर्व तथा पश्चिम-पश्चिम"}, {en:"None", hi:"इनमें से कोई नहीं"}], ans: 0 },
        { id: 141, qEn: "Permanent magnets are made of:", qHi: "स्थायी चुम्बक जिस पदार्थ का बना होता है, वह होता है-", opts: [{en:"Ferromagnetic", hi:"फेरोमैग्नेटिक"}, {en:"Diamagnetic", hi:"डाइमैग्नेटिक"}, {en:"Antiferromagnetic", hi:"एन्टीफेरोमैग्नेटिक"}, {en:"All three", hi:"उपर्युक्त तीनों"}], ans: 0 },
        { id: 142, qEn: "Freely suspended magnetic needle rests in which direction?", qHi: "मुक्त रूप से निलम्बित चुम्बकीय सूई किस दिशा में टिकती है ?", opts: [{en:"North-West", hi:"उत्तर-पश्चिम दिशा"}, {en:"North-South", hi:"उत्तर दक्षिण दिशा"}, {en:"North-East", hi:"उत्तर-पूर्व दिशा"}, {en:"South-West", hi:"दक्षिण-पश्चिम दिशा"}], ans: 1 },
        { id: 143, qEn: "Needle of magnetic compass points to:", qHi: "चुम्बकीय कम्पास की सूई किस ओर इंगित करती है ?", opts: [{en:"Magnetic North", hi:"चुम्बकीय उत्तर"}, {en:"Magnetic South", hi:"चुम्बकीय दक्षिण"}, {en:"Magnetic N & S", hi:"चुम्बकीय उत्तर व चुम्बकीय दक्षिण"}, {en:"None", hi:"इनमें से कोई नहीं"}], ans: 2 },
        { id: 144, qEn: "Which of the following is a non-magnetic material?", qHi: "निम्नलिखित में से कौन एक अचुम्बकीय पदार्थ है ?", opts: [{en:"Iron", hi:"लोहा"}, {en:"Nickel", hi:"निकिल"}, {en:"Cobalt", hi:"कोबाल्ट"}, {en:"Brass", hi:"पीतल"}], ans: 3 },
        { id: 145, qEn: "Steel is difficult to magnetize because:", qHi: "स्टील को चुम्बकीय करना कठिन है, क्योंकि उसकी-", opts: [{en:"Low permeability", hi:"कम चुम्बकशील होने के कारण"}, {en:"High retentivity", hi:"अधिक धारण क्षमता होने के कारण"}, {en:"High permeability", hi:"अधिक चुम्बकशील होने के कारण"}, {en:"High density", hi:"अधिक घनत्व के कारण"}], ans: 1 },
        { id: 146, qEn: "A freely suspended magnet always rests in:", qHi: "एक स्वतंत्र रूप से लटका हुआ चुम्बक सदैव ठहरता है-", opts: [{en:"East-North", hi:"पूर्व-उत्तर दिशा में"}, {en:"North-West", hi:"उत्तर-पश्चिम दिशा में"}, {en:"North-South", hi:"उत्तर-दक्षिण दिशा में"}, {en:"South-West", hi:"दक्षिण-पश्चिम दिशा में"}], ans: 2 },
        { id: 147, qEn: "Which of the following is paramagnetic in nature?", qHi: "निम्नलिखित में से कौन-सा एक प्रकृति में अनुचुम्बकीय है ?", opts: [{en:"Iron", hi:"लौह"}, {en:"Hydrogen", hi:"हाइड्रोजन"}, {en:"Oxygen", hi:"ऑक्सीजन"}, {en:"Nitrogen", hi:"नाइट्रोजन"}], ans: 2 },
        { id: 148, qEn: "Which of the following is non-magnetic?", qHi: "निम्न में से कौन विधुत अचुम्बकीय है ?", opts: [{en:"Nickel", hi:"निकिल"}, {en:"Cobalt", hi:"कोबाल्ट"}, {en:"Chromium", hi:"क्रोमियम"}, {en:"Copper", hi:"तांबा"}], ans: 3 },
        { id: 149, qEn: "Angle between Magnetic Meridian and Geographic Meridian is called:", qHi: "चुम्बकीय याम्योत्तर और भौगोलिक याम्योत्तर के बीच के कोण को कहते हैं ?", opts: [{en:"Magnetic Dip", hi:"चुम्बकीय नति"}, {en:"Magnetic Moment", hi:"चुम्बकीय आघूर्ण"}, {en:"Magnetic Declination", hi:"चुम्बकीय दिक्पात्"}, {en:"None", hi:"इनमें से कोई नहीं"}], ans: 2 },
        { id: 150, qEn: "Which metal is NOT attracted by a magnet?", qHi: "निम्नलिखित में से कौन-सा धातु चुम्बक द्वारा आकर्षित नहीं होता है ?", opts: [{en:"Iron", hi:"लोहा"}, {en:"Nickel", hi:"निकिल"}, {en:"Cobalt", hi:"कोबाल्ट"}, {en:"Aluminium", hi:"एल्युमीनियम"}], ans: 3 },
        { id: 151, qEn: "Which of the following is Diamagnetic?", qHi: "निम्न में से कौन प्रति चुम्बकीय (Diamagnetic) है ?", opts: [{en:"Iron", hi:"लोहा"}, {en:"Bismuth", hi:"बिस्मथ"}, {en:"Nickel", hi:"निकिल"}, {en:"Cobalt", hi:"कोबाल्ट"}], ans: 1 },
        { id: 152, qEn: "A powerful magnet:", qHi: "एक शक्तिशाली चुम्बक-", opts: [{en:"Attracts all substances", hi:"सब पदार्थों को आकर्षित करता है।"}, {en:"Attracts only Iron", hi:"केवल लोहा एवं उसकी मिश्रधातुओं को आकर्षित करता है।"}, {en:"Attracts Fe, repels none", hi:"केवल लोहा एवं उनकी मिश्रधातुओं को आकर्षित करता है, किन्तु किसी को प्रतिकर्षित नहीं करता है।"}, {en:"Attracts some, repels some", hi:"कुछ पदार्थों को आकर्षित करता है, कुछ को प्रतिकर्षित करता है।"}], ans: 3 },
        { id: 153, qEn: "Angle made by freely suspended magnetic needle with horizontal is called:", qHi: "मुक्त रूप से अपने गुरुत्व केन्द्र पर आलम्बित चुम्बकीय सूई क्षैतिज के साथ जो कोण बनाती है, उसे कहते हैं-", opts: [{en:"Angle of Dip", hi:"नमन कोण"}, {en:"Declination", hi:"दिक्पात कोण"}, {en:"Horizontal Angle", hi:"क्षैतिज कोण"}, {en:"None", hi:"इनमें से कोई नहीं"}], ans: 0 },
        { id: 154, qEn: "A magnetic substance can be demagnetized by:", qHi: "किसी चुम्बकीय पदार्थ को विचुम्बकीय किया जा सकता है-", opts: [{en:"Hammering", hi:"हथौड़े से पीटकर"}, {en:"Heating", hi:"गर्म कर"}, {en:"Horizontal angle", hi:"क्षैतिज कोण"}, {en:"Both A and B", hi:"इनमें से कोई नहीं (Should be A&B, but text says None)"}], ans: 3 }, // Text error in D, implies both methods work physically, marking D as 'None' in text but contextually likely 'Both'. Following source key if available, else standard physics: Both heat and hammering demagnetize. Marking D assuming it meant "Both".
        { id: 155, qEn: "Magnetic effect of current was first observed by:", qHi: "विधुत धारा का चुम्बकीय प्रभाव सर्वप्रथम अवलोकित किया गया-", opts: [{en:"Henry", hi:"हेनरी द्वारा"}, {en:"Oersted", hi:"ओर्स्टेड द्वारा"}, {en:"Faraday", hi:"फैराडे द्वारा"}, {en:"Volta", hi:"वोल्टा द्वारा"}], ans: 1 },
        { id: 156, qEn: "Value of angle of dip at the poles is:", qHi: "ध्रुवों पर नमन कोण का मान कितना होता है ?", opts: [{en:"0°", hi:"0°"}, {en:"45°", hi:"45°"}, {en:"60°", hi:"60°"}, {en:"90°", hi:"90°"}], ans: 3 },
        { id: 157, qEn: "Axis of freely suspended magnetic needle makes an angle with geographic axis:", qHi: "मुक्त रूप से लटकी चुम्बकीय सूई का अक्ष भौगोलिक अक्ष के साथ कोण बनाता है-", opts: [{en:"20°", hi:"20° का"}, {en:"16°", hi:"16° का"}, {en:"18°", hi:"18° का"}, {en:"15°", hi:"15° का"}], ans: 2 },
        { id: 158, qEn: "Permanent magnets can be made from:", qHi: "स्थायी चुम्बकन किस स्थिति में किया जा सकता है ?", opts: [{en:"Cast Iron", hi:"डलवां लोहा"}, {en:"Wrought Iron", hi:"पिटवां लोहा"}, {en:"Raw Iron", hi:"कच्चा लोहा"}, {en:"Steel", hi:"इस्पात"}], ans: 3 },
        { id: 159, qEn: "Temporary magnets are made of:", qHi: "अस्थायी चुम्बक बनाये जाते हैं-", opts: [{en:"Steel", hi:"इस्पात के"}, {en:"Soft Iron", hi:"नर्म लोहे के"}, {en:"Copper", hi:"तांबे के"}, {en:"Silver", hi:"चांदी के"}], ans: 1 },
        { id: 160, qEn: "Electromagnets are made of soft iron because:", qHi: "विधुत चुम्बक नर्म लोहे के बनाये जाते हैं, क्यों ?", opts: [{en:"Low mag susceptibility, low retentivity", hi:"कम चुम्बकीय प्रवृत्ति तथा क्रम धारणशीलता के कारण"}, {en:"High susceptibility, low retentivity", hi:"अधिक चुम्बकीय प्रवृत्ति तथा कम धारण क्षमता के कारण"}, {en:"High susceptibility, high retentivity", hi:"अधिक चुम्बकीय प्रवृत्ति तथा अधिक धारण क्षमता के कारण"}, {en:"Low susceptibility, high retentivity", hi:"कम चुम्बकीय प्रवृत्ति तथा अधिक कारण क्षमता के कारण"}], ans: 1 },
        { id: 161, qEn: "If a magnet is cut into two parts:", qHi: "यदि एक चुम्बक को दो भागों में विभक्त कर दिया जाए तो-", opts: [{en:"Both parts become magnets", hi:"दोनों भाग पृथक-पृथक चुम्बक बन जाते हैं।"}, {en:"One magnet, one non-magnet", hi:"एक भाग चुम्बक तथा दूसरा भाग अचुम्बक बन जाता है।"}, {en:"One North, one South", hi:"एक भाग उत्तरी ध्रुव तथा दूसरा भाग दक्षिणी ध्रुव बन जाता है।"}, {en:"Both become non-magnetic", hi:"दोनों भाग अचुम्बकीय बन जाते हैं।"}], ans: 0 },
        { id: 162, qEn: "Attraction power of a magnet is maximum at:", qHi: "किसी चुम्बक की आकर्षण शक्ति सबसे अधिक कहां होती है ?", opts: [{en:"Both ends", hi:"दोनों किनारों पर"}, {en:"Middle", hi:"मध्य में"}, {en:"Magnetic axis", hi:"चुम्बकीय अक्ष पर"}, {en:"Equal everywhere", hi:"सभी जगह समान होती है"}], ans: 0 },
        { id: 163, qEn: "Attraction power of a magnet is minimum at:", qHi: "किसी चुम्बक की आकर्षण शक्ति सबसे कम कहां होती है ?", opts: [{en:"Both ends", hi:"दोनों किनारों पर"}, {en:"Middle", hi:"मध्य में"}, {en:"Magnetic axis", hi:"चुम्बकीय अक्ष पर"}, {en:"Equal everywhere", hi:"सभी जगह समान होती है"}], ans: 1 },
        { id: 164, qEn: "Which statement is FALSE?", qHi: "निम्न में से कौन-सा कथन असत्य है ?", opts: [{en:"Like poles repel", hi:"चुम्बक के समान ध्रुवों के बीच प्रतिकर्षण होता है।"}, {en:"Opposite poles attract", hi:"चुम्बक के विपरित ध्रुवों के बीच आकर्षण होता है।"}, {en:"Isolated pole does not exist", hi:"एक विलग ध्रुव का कोई अस्तित्व नहीं होता है।"}, {en:"Breaking magnet separates poles", hi:"किसी चुम्बक को बीच से तोड़ देने पर इसके दोनों ध्रुवों अलग-अलग हो जाते हैं।"}], ans: 3 },
        { id: 165, qEn: "Unit of Magnetic Field is:", qHi: "चुम्बकीय क्षेत्र का मात्रक होता है-", opts: [{en:"Gauss", hi:"गॉस"}, {en:"Weber", hi:"वेबर"}, {en:"Henry", hi:"हेनरी"}, {en:"Domain", hi:"डोमेन"}], ans: 0 },
        { id: 166, qEn: "Unit of Magnetic Flux is:", qHi: "चुम्बकीय फ्लस्क का मात्रक है-", opts: [{en:"Weber", hi:"वेबर"}, {en:"Gauss", hi:"गॉस"}, {en:"Hertz", hi:"हर्ट्ज"}, {en:"Tesla", hi:"टेसला"}], ans: 0 },
        { id: 167, qEn: "Which is NOT a ferromagnetic material?", qHi: "निम्नलिखित में से कौन लौह चुम्बकीय पदार्थ नहीं है ?", opts: [{en:"Iron", hi:"लोहा"}, {en:"Nickel", hi:"निकिल"}, {en:"Copper", hi:"तांबा"}, {en:"Cobalt", hi:"कोबाल्ट"}], ans: 2 },
        { id: 168, qEn: "Which is a Paramagnetic material?", qHi: "निम्नलिखित में से कौन अनुचुम्बकीय पदार्थ है ?", opts: [{en:"Hydrogen", hi:"हाइड्रोजन"}, {en:"Nitrogen", hi:"नाइट्रोजन"}, {en:"Oxygen", hi:"ऑक्सीजन"}, {en:"Iron", hi:"लोहा"}], ans: 2 },
        { id: 169, qEn: "Innumerable tiny structures inside ferromagnetic materials are called:", qHi: "लौह चुम्बकीय पदार्थों के भीतर परमाणुओं के असंख्य अति सूक्ष्म संरचनाओं को क्या कहा जाता है ?", opts: [{en:"Solenoid", hi:"परिनालिका"}, {en:"Toroid", hi:"टोराइड"}, {en:"Domain", hi:"डोमेन"}, {en:"None", hi:"इनमें से कोई नहीं"}], ans: 2 },
        { id: 170, qEn: "Number of atoms in 1 Domain is approx:", qHi: "1 डोमेन (Domain) में परमाणुओं की संख्या होती है-", opts: [{en:"10^12 to 10^15", hi:"10^12 से 10^15"}, {en:"10^15 to 10^18", hi:"10^15 से 10^18"}, {en:"10^18 to 10^21", hi:"10^18 से 10^21"}, {en:"10^21 to 10^24", hi:"10^21 से 10^24"}], ans: 2 },
        { id: 171, qEn: "In electrolysis, what happens at the cathode?", qHi: "विधुत-अपघटन क्रिया में कैथोड पर होता है-", opts: [{en:"Oxidation", hi:"ऑक्सीकरण"}, {en:"Reduction", hi:"अवर्करण"}, {en:"Dissociation", hi:"वियोजन"}, {en:"Hydrolysis", hi:"विघटन"}], ans: 1 },
        { id: 172, qEn: "What is liberated when 96500 Coulombs pass through CuSO4?", qHi: "96500 कूलम्ब विधुत-धारा C4SO4 घोल से प्रवाहित करने में मुक्त होता है-", opts: [{en:"63.5g Cu", hi:"63.5 ग्राम Cu"}, {en:"31.76g Cu", hi:"31.76 ग्राम Cu"}, {en:"96500g Cu", hi:"96500 ग्राम Cu"}, {en:"100g Cu", hi:"100 ग्राम Cu"}], ans: 1 },
        { id: 173, qEn: "Which of the following will NOT conduct electricity?", qHi: "निम्नलिखित में किससे विधुत धारा प्रवाहित नहीं होगा-", opts: [{en:"NaCl solution", hi:"NaCl घोल"}, {en:"CuSO4 solution", hi:"CuSO4 घोल"}, {en:"H2SO4 solution", hi:"H2SO4 घोल"}, {en:"Ethyl Alcohol", hi:"इथाइल अल्कोहल"}], ans: 3 }
    ];

    // --- APP LOGIC ---
    const app = {
        questions: [],
        currIndex: 0,
        score: 0,
        timer: null,
        timeLeft: 0,
        timerSetting: 0,
        
        audioCtx: new (window.AudioContext || window.webkitAudioContext)(),

        playSound: function(type) {
            if(this.audioCtx.state === 'suspended') this.audioCtx.resume();
            const osc = this.audioCtx.createOscillator();
            const gain = this.audioCtx.createGain();
            osc.connect(gain);
            gain.connect(this.audioCtx.destination);
            
            if(type === 'correct') {
                osc.type = 'sine';
                osc.frequency.setValueAtTime(500, this.audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(1000, this.audioCtx.currentTime + 0.1);
                gain.gain.setValueAtTime(0.1, this.audioCtx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, this.audioCtx.currentTime + 0.5);
            } else {
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(150, this.audioCtx.currentTime);
                osc.frequency.linearRampToValueAtTime(50, this.audioCtx.currentTime + 0.3);
                gain.gain.setValueAtTime(0.1, this.audioCtx.currentTime);
                gain.gain.linearRampToValueAtTime(0.01, this.audioCtx.currentTime + 0.3);
            }
            osc.start(); osc.stop(this.audioCtx.currentTime + 0.5);
        },

        start: function() {
            const shuffle = document.getElementById('shuffleInput').checked;
            this.timerSetting = parseInt(document.getElementById('timerInput').value) || 0;
            
            this.questions = [...questionData];
            if(shuffle) this.questions.sort(() => Math.random() - 0.5);
            
            this.currIndex = 0;
            this.score = 0;
            document.getElementById('totalQ').innerText = this.questions.length;
            
            document.getElementById('startScreen').classList.remove('active');
            document.getElementById('quizScreen').classList.add('active');
            
            this.loadQuestion();
        },

        loadQuestion: function() {
            if(this.currIndex >= this.questions.length) return this.finish();

            const q = this.questions[this.currIndex];
            
            // Update UI
            document.getElementById('currQ').innerText = this.currIndex + 1;
            document.getElementById('scoreVal').innerText = this.score;
            document.getElementById('qTextEn').innerText = q.qEn;
            document.getElementById('qTextHi').innerText = q.qHi;
            
            const pct = (this.currIndex / this.questions.length) * 100;
            document.getElementById('progressBar').style.width = pct + '%';

            // Options
            const box = document.getElementById('optionsBox');
            box.innerHTML = '';
            q.opts.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.innerHTML = `<span class="opt-en">${String.fromCharCode(65+idx)}. ${opt.en}</span><span class="opt-hi">${opt.hi}</span>`;
                btn.onclick = () => this.handleAnswer(idx, btn);
                box.appendChild(btn);
            });

            // Timer
            clearInterval(this.timer);
            const tBadge = document.getElementById('timerBadge');
            const tText = document.getElementById('timerText');
            
            if(this.timerSetting > 0) {
                tBadge.style.display = 'flex';
                this.timeLeft = this.timerSetting;
                tText.innerText = this.timeLeft;
                tText.classList.remove('pulse');
                
                this.timer = setInterval(() => {
                    this.timeLeft--;
                    tText.innerText = this.timeLeft;
                    if(this.timeLeft < 5) tText.classList.add('pulse');
                    if(this.timeLeft <= 0) {
                        clearInterval(this.timer);
                        this.handleAnswer(-1, null);
                    }
                }, 1000);
            } else {
                tBadge.style.display = 'none';
            }
        },

        handleAnswer: function(selectedIndex, btn) {
            clearInterval(this.timer);
            const correctIndex = this.questions[this.currIndex].ans;
            const buttons = document.querySelectorAll('.option-btn');
            
            buttons.forEach(b => b.disabled = true);

            if(selectedIndex === correctIndex) {
                this.score++;
                if(btn) btn.classList.add('correct');
                this.playSound('correct');
                this.fireConfetti();
            } else {
                if(btn) {
                    btn.classList.add('wrong');
                    btn.classList.add('shake');
                    setTimeout(() => btn.classList.remove('shake'), 500);
                }
                buttons[correctIndex].classList.add('correct');
                this.playSound('wrong');
                this.showOverlay('😢');
            }

            document.getElementById('scoreVal').innerText = this.score;

            setTimeout(() => {
                this.currIndex++;
                this.loadQuestion();
            }, 1500);
        },

        finishEarly: function() {
            clearInterval(this.timer);
            this.finish();
        },

        finish: function() {
            document.getElementById('quizScreen').classList.remove('active');
            document.getElementById('resultScreen').classList.add('active');
            document.getElementById('progressBar').style.width = '100%';
            
            const total = this.questions.length;
            document.getElementById('finalScore').innerText = `${this.score} / ${total}`;
            
            const pct = (this.score / total) * 100;
            const title = document.getElementById('resultTitle');
            const msg = document.getElementById('resultMsg');
            const emoji = document.getElementById('resultEmoji');

            if(pct >= 80) {
                emoji.innerText = "🏆";
                title.innerText = "Outstanding Performance!";
                title.style.color = "#00e676";
                msg.innerText = "You have mastered this topic perfectly.";
            } else if(pct >= 50) {
                emoji.innerText = "👏";
                title.innerText = "Well Done!";
                title.style.color = "#ffd700";
                msg.innerText = "Good job! Keep practicing to reach the top.";
            } else {
                emoji.innerText = "📚";
                title.innerText = "Keep Practicing";
                title.style.color = "#ff1744";
                msg.innerText = "Don't give up! Review the concepts and try again.";
            }
        },

        showOverlay: function(emoji) {
            const el = document.getElementById('feedback-overlay');
            el.innerText = emoji;
            el.style.opacity = 1;
            el.classList.add('shake');
            setTimeout(() => {
                el.style.opacity = 0;
                el.classList.remove('shake');
            }, 800);
        },

        fireConfetti: function() {
            for(let i=0; i<30; i++) {
                const c = document.createElement('div');
                c.className = 'confetti';
                c.style.left = Math.random() * 100 + 'vw';
                c.style.backgroundColor = `hsl(${Math.random()*360}, 100%, 50%)`;
                c.style.animationDuration = (Math.random() * 2 + 2) + 's';
                document.body.appendChild(c);
                setTimeout(() => c.remove(), 4000);
            }
        }
    };
</script>
</body>
</html>